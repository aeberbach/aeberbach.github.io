<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Gray Unicorn</title><description>A random and irregularly updated collection of Adam's projects and stuff.</description><link>https://grayunicorn.com</link><language>en</language><lastBuildDate>Thu, 3 Jun 2021 09:58:28 +1000</lastBuildDate><pubDate>Thu, 3 Jun 2021 09:58:28 +1000</pubDate><ttl>250</ttl><atom:link href="https://grayunicorn.com/feed.rss" rel="self" type="application/rss+xml"/><item><guid isPermaLink="true">https://grayunicorn.com/posts/2021-06-01-mac-video-1</guid><title>Compact Macintosh video - 1</title><description>Macintosh video project</description><link>https://grayunicorn.com/posts/2021-06-01-mac-video-1</link><pubDate>Tue, 1 Jun 2021 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Compact Macintosh video - 1</h1><p>A confession: when the Macintosh SE FDHD first appeared in the studio where I was a junior Finished Artist I was not its biggest fan. I liked Dark Castle but it was a slow machine with a tiny screen and hid so much of what a computer did. Still, Quark and Aldus made it obvious that my job would not be around much longer. Instead I went back to university for a CS degree. Then I had Amigas, PCs, finally going back to a G4 after the best PC I could build crashed one time too many.</p><p><a href="https://grayunicorn.com/images/2021-06-01-mac-video-1/finished-art.jpg"><img src="https://grayunicorn.com/images/2021-06-01-mac-video-1/finished-art-thumb.jpg" alt="Finished Art things"/></a></p><p><em>(A Finished Artist was kind of a graphics technician. I cut out pieces of text and graphics with a scalpel and stuck them down on a backing board, with hot wax or spray adhesive, the way the finished print should look. If something was the wrong size I changed that with a reprographic camera. If I needed something typeset I used a machine projecting light onto film, selecting and exposing characters individually. Red film known by brand name Rubylith photographed as black and could make good lines or backgrounds. Not a great job, and the constant chemical exposure was probbaly not healthy either.)</em></p><p>Years later I'm appreciating the Macintosh SE/30. Many agree; it is the greatest Mac of all time.</p><img src="https://grayunicorn.com/images/2021-06-01-mac-video-1/gruber.jpg" alt="Endorsement"/><p>Sadly, compact Macintoshes are showing their age, yellowed, covered in anti-theft engraving and well-meant stickers and grime beyond belief. The rare really good ones have sold for surprising prices, almost up to the retail price of the SE FDHD setup I first encountered. If you want a vintage Mac you either get unbelievably lucky or you should prepare to pay. Or live in California; from what I see online that's just as good.</p><p>Maintenance on an old Mac always starts with removing the battery. The Tadiran or Maxell batteries of the period always leak eventually, dissolving PCB traces and component legs. If you get to it before that happens you need to replace capacitors - the telltale fishy smell means the capacitors have leaked and their corrosive juices are slowly dissolving any nearby metal. The case can be cleaned, and some whiten them but if done basdly this can make old plastic chalky or brittle. An old SCSI drive can be replaced with a modern solid-state replacement for reliability but also much more speed. RAM can be replaced or increased and is readily available.</p><p><a href="https://grayunicorn.com/images/2021-06-01-mac-video-1/damage1.jpg"><img src="https://grayunicorn.com/images/2021-06-01-mac-video-1/damage1-thumb.jpg" alt="Gallery of horror"/></a></p><p>Power supplies often need attention even if they appear to be working. They're like an older athlete, maybe the best in the world at one time but no longer. If your power supply is old then things might look like they are working until the current requirement goes up and then your Mac crashes. Fortunately they can be rejuvenated and new capacitors are often all it takes.</p><p>The part you can't fix, and that inevitably fails with even the most careful use, is the screen subsystem. Capacitors can be replaced but the the flyback transformer is a problem. It's a big component that generates the high voltage required for the CRT and it gets quite hot. On a long enough time scale all flybacks will fail due to the stresses they operate under. As of now I don't know of any source for a new flyback. Sometimes they can be found but they're not cheap and often not new - so how long will they last?</p><p>If things go wrong the screen can show many symptoms sometimes indicating the fault; weird distorted lines or a single point of light perhaps. Often the lines and edges are distorted or fuzzy and cannot be adjusted because components have drifted out of spec. On one of my SE/30s the brightness control just stopped working even though everything tested fine.</p><p><a href="https://youtu.be/zr_Q4bGI_qY"><img src="https://grayunicorn.com/images/2021-06-01-mac-video-1/jdw-video.jpg" alt="JDW's recap video"/></a></p><p>Fortunately the retro Mac community is not short of awesome people who will show you how to do all this!</p><p>But what if you get a Mac missing parts, or your last good flyback transformer gives up? Without an alternative it's curtains for that Mac - reserved for spare parts at best. Some replace the inside with various things from Mac minis to Raspberry Pis and a collection of hacks to run a LCD display. If every repair involves some degree of departure from original, then a new component has the least while replacing the entire inside of the machine possibly has the most. That isn't for me because at the end of the day I want the compact Mac, not a Mac mini in a bukly box with a tiny screen.</p><p>So what to do about the screen? Some requirements at the start of this project:</p><ul><li>screen as close to original size as possible</li><li>monochrome display</li><li>case must close and it must still look like the original machine</li><li>no interference with any expansion slot or other accessory</li><li>no irreversible alterations to the Mac</li><li>just works</li></ul></br>I'll refer to these requirements as the project develops. I started looking at LCDs.
]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2020-10-01-a600-port-relocator</guid><title>Amiga 600 port relocator</title><description>A600 side port relocator</description><link>https://grayunicorn.com/posts/2020-10-01-a600-port-relocator</link><pubDate>Thu, 1 Oct 2020 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga 600 port relocator</h1><p>The Amiga 600 has ports right where you don't want them. They're on the right of the machine in the perfect place for the cables to get in the way of where the mouse is going to be rolling around on the desk. Also the typical DE-9 connector does not fit, only molded ones will fit, because the A600 case molding interferes with the lugs on the standard plug.</p><p>(It's called a DE-9 because the shell size in the series is 'E' and it has 9 pins. Many people call it a DB-9 - not correct, but I guess if people know what you mean...)</p><p><a href="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/side.jpeg"><img src="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/side-thumb.jpeg" alt="Side ports"/></a></p><p>To get around this I though of making a port relocator so that the two side ports are connected to a pair of DE-9 plugs, connected to a single stacked dual DE-9 plug at the rear of the machine. Any such plugs would need to be chopped to fit in space allowed by the A600 case, so I had to find some that would not fall apart when one lug is removed as is required for the right plug. The left plug needs less modification but still must have a corner trimmed off.</p><p><a href="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/side-rear.jpeg"><img src="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/side-rear-thumb.jpeg" alt="From an angle"/></a></p><p><a href="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/rear.jpeg"><img src="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/rear-thumb.jpeg" alt="Plug in here"/></a></p><p>One kind of connector that can be cut in this way is made by Amphenol, and is sold by <a href="https://www.digikey.com.au/product-detail/en/ID09S33E4GX00LF/609-5771-ND/1536372">Digikey</a> and probably other places too. The face of the connector is crimped all round to the body.</p><p><a href="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/chopped.jpeg"><img src="https://grayunicorn.com/images/2020-10-01-a600-port-relocator/chopped-thumb.jpeg" alt="Chopped connectors"/></a></p><p>PCB design was done in KiCAD. There is nothing but connectors, header and PCB. It is necessary to use two PCBs here because the connectors sit up above the base of the machine. Using 2.4mm substrate on the top board and a 2.54mm-spaced header including 2.54mm spacer between the boards makes the lower board able to pass under the floppy drive bulge. Using 2.4mm substrate for the lower board also should result in a nice solid assembly that has room for slim rubber feet underneath. The eighteen-pin header connects the two 9-pin ports between the boards. The four-pin header is only for extra stability, it connects to nothing.</p><p>I have not built this (that's why pictures show a cardboard mockup). If you do I would be interested to know how it works. Maybe I will one day if I get some cheap way of making simple PCBs. Most people use cables for this apparently, but then that still sticks out the right side of the machine...</p><p>Find the whole project on my <a href="https://github.com/aeberbach/A600-side-port-relocator">github account</a>.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2020-05-30-a1200-kbd-10</guid><title>New 3D files for keyboard in A1200.net case</title><description>A1200.net case revised mounts</description><link>https://grayunicorn.com/posts/2020-05-30-a1200-kbd-10</link><pubDate>Sat, 30 May 2020 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>New 3D files for keyboard in A1200.net case</h1><p>In the last couple of weeks John "Chucky" Hertell announced the release of the <a href="http://www.reamiga.info/?page_id=38">ReAmiga 1200</a> revision 1.5 and I decided to get started on building one. I'm also thinking I need one of those cool <a href="http://www.amigawarp.eu">Warp 1260</a> cards when they are released, and that it would be good to switch into the clear A1200 case, an <a href="https://www.a1200.net/new-amiga-1200-cases/">A1200.net reproduction</a>, when I do it.</p><p>The A1200.net case is pretty neat - for one it has brass inserts for the screws, the original had self-tapping screws into plastic. Mine is the transparent version and has signatures from some of the original Amiga people molded into the bottom as the original Macintosh and A1000 did.</p><p>(I don't much like their new keyboard prototype. It uses the old Amiga keys, or their reproduction Amiga keys. I far prefer Cherry MX keyswitches even if it is harder to fit the keyboard with correct keys, with their keys you are stuck with OEM profile.)</p><p>The good news and bad news is that the A1200 case are NOT "perfect replicas of Commodore design" as the web site says. They offer more features such as cutouts for a Gotek LCD, and USB ports. Unfortunately the key cutout is very slightly different, so much so that I think I may need a fourth revision of the PCB to cater for both cases. Internally the detail inside the front of the case and the mounting rails on the sides for the keyboard are very different - not so much if you are just placing an Amiga keyboard with its sheet steel supports but it matters if making 3D-printed supports for a PCB.</p><p><a href="https://grayunicorn.com/images/2020-05-30-a1200-kbd-10/base-support.jpg"><img src="https://grayunicorn.com/images/2020-05-30-a1200-kbd-10/base-support-thumb.jpg" alt="In the case"/></a></p><p>The new designs on <a href="https://github.com/aeberbach/A1200KB">GitHub</a> are designed to sit better in place on the ribs that strengthen the case. At the front the supports are designed to both support the bottom of the keyboard PCB and to direct air that enters through the front vents under the keyboard PCB into the body of the machine. Behind the PCB an aluminium bar (10x3mm section) supports the span of the keyboard and is insulated with a 3D-printed strip that also serves to support the board. Generally it is a bit neater and better fitting, a product of getting more familiar with the design tools and the 3D printer.</p><p><a href="https://grayunicorn.com/images/2020-05-30-a1200-kbd-10/sides-and-rear-supports.jpg"><img src="https://grayunicorn.com/images/2020-05-30-a1200-kbd-10/sides-and-rear-supports-thumb.jpg" alt="In the case"/></a></p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/pages/about</guid><title>Who writes this anyway?</title><description>About me</description><link>https://grayunicorn.com/pages/about</link><pubDate>Wed, 20 May 2020 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Who writes this anyway?</h1><p>I’m Adam Eberbach, from Melbourne, Australia. My work is iOS, sometimes Android development and I’ve been doing it about ten years, prior to that Embedded C and C++. Apart from that I enjoy making things, guitars, computers and cycling.</p><p>If you're giving away old computers I probably want them.</p><p>contact: <a href="mailto:aeberbach@grayunicorn.com">aeberbach@grayunicorn.com</a></p><p>(Why "Gray Unicorn"? It's a very useful thing to find in <a href="https://www.nethack.org">Nethack</a>, the greatest game of all time.)</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2020-05-20-publish</guid><title>Publish by John Sundell</title><description>Switching blogging software, again</description><link>https://grayunicorn.com/posts/2020-05-20-publish</link><pubDate>Wed, 20 May 2020 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Publish by John Sundell</h1><p>I don't actually think I mentioned using Pelican, which I switched to after Ruby. I hate Ruby. I didn't hate Python, but given the chance to use Swift instead why wouldn't I switch? Having the ability to use only Xcode and git is fantastic.</p><p><a href="https://github.com/JohnSundell/Publish">Publish</a> is available on Github. John Sundell uses it to build <a href="https://swiftbysundell.com">Swift by Sundell</a>, which looks as good as I am ever going to need.</p><p>It's very easy to set up, at least as easy as Jekyll or Pelican. It's totally easy to convert old blogs. I chose to rearrange images somewhat so converting absolutely everything, including fixing up some images and typos, took just a few hours. If you have an interest take a look, I think you will like it.</p><p>Obviously this is pretty vanilla right now because I have read nothing but the github page, but I think it's got a lot of potential.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2020-05-13-tk735</guid><title>Termtek TK-735</title><description>Unknown serial/telnet terminal</description><link>https://grayunicorn.com/posts/2020-05-13-tk735</link><pubDate>Wed, 13 May 2020 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Termtek TK-735</h1><p>Well it's cheap, let's take a chance!</p><h2>What's a serial terminal?</h2><p>You may have never used a serial terminal. I don't really know why I want to these days, I just like to have one.</p><p><a href="https://grayunicorn.com/images/2020-05-13-tk735/vt525.jpeg"><img src="https://grayunicorn.com/images/2020-05-13-tk735/vt525-thumb.jpeg" alt="VT525"/></a></p><p>The gold standard (and the last DEC terminal) was the DEC VT-525, a pizza-box device in signature DEC style with places to connect serial, monitor, printer and keyboard. It had its problems; the plastic fins on the sides of the case are prone to breaking off if a monitor base is dragged over them. The output transceiver chips are easily zapped if the serial cables pick up any stray voltage. The front power switch drives a long steel rod to actuate the actual power switch mounted way in the back of the case and that coupling can become loose. The mechanical switch itself is a push-on/push-off type that wears and becomes unreliable. Still, you won't find a working terminal for less than several hundred dollars and I expect they are still in use in some enterprises.</p><p><a href="https://grayunicorn.com/images/2020-05-13-tk735/vt220.jpeg"><img src="https://grayunicorn.com/images/2020-05-13-tk735/vt220-thumb.jpeg" alt="VT220"/></a></p><p>Then there are the other VT terminals, the ones that come with the big CRT either attached as in the early VT100 or as a separate unit like the VT220. I used amber VT220s in the old lab at uni before I was allowed to play in the Sony NEWS Station lab and I still don't think there is a better way to play Nethack.</p><h2>Termtek TK-735</h2><p><a href="https://grayunicorn.com/images/2020-05-13-tk735/front.jpeg"><img src="https://grayunicorn.com/images/2020-05-13-tk735/front-thumb.jpeg" alt="Featureless Front Panel"/></a></p><p><a href="https://grayunicorn.com/images/2020-05-13-tk735/connectors.jpeg"><img src="https://grayunicorn.com/images/2020-05-13-tk735/connectors-thumb.jpeg" alt="Connectors"/></a></p><p>There's almost no information about this thing, the brand is not even mentioned on the terminals wiki, but I found one on eBay for $30. From the description it appeared to be a VT525 clone but with ethernet? Like the VT252 it accepts a PS/2 keyboard, but the plug is on the side where you can't see it.</p><p><a href="https://grayunicorn.com/images/2020-05-13-tk735/inside.jpeg"><img src="https://grayunicorn.com/images/2020-05-13-tk735/inside-thumb.jpeg" alt="Inside the Box"/></a></p><p>Connecting it up I just found a message saying that it was trying to connect to something. No keys did anything. And I wonder if that's why it was sold for so little, as it seemed dead?</p><p><a href="https://grayunicorn.com/images/2020-05-13-tk735/qume-qvt-72-plus.jpeg"><img src="https://grayunicorn.com/images/2020-05-13-tk735/qume-qvt-72-plus.jpeg" alt="Qume Manual Picture"/></a></p><p>Then I found a reference to another terminal from Termtek, a TK-635, being sold under the Qume brand as a "QVT 72 Plus". From the picture in the manual it looks almost like it could be the circuit board from my Termtek, designed to use a plugpack, in a curvy molded case. Same connector arrangement!</p><p><a href="https://grayunicorn.com/images/2020-05-13-tk735/setup.jpeg"><img src="https://grayunicorn.com/images/2020-05-13-tk735/setup-thumb.jpeg" alt="Setup Menu"/></a></p><p>I downloaded the manual for the Qume hoping that it would tell me the secret "enter setup" key combination and it said "Alt-ESC". So I tried it, and nothing. Then about five seconds later... yes! If randomly pressing keys you would almost never come across this combo especially as pressing other keys after seems to cancel it. Once you have that you have a working terminal. It looks like the ethernet connectivity of this thing is telnet to port 23, so perhaps not so useful today. Still, now I have a very clean and sturdy serial terminal again. It will probably sit around doing nothing until I hook it up to a Raspberry Pi or something but you don't need a good reason. Hopefully if arrived here because you want information on Termtek you have tried the secret setup key combination and you can now use it. Happy Nethacking!</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2020-05-12-ipad-stand</guid><title>iPad stand</title><description>Making working from home a little easier</description><link>https://grayunicorn.com/posts/2020-05-12-ipad-stand</link><pubDate>Tue, 12 May 2020 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>iPad stand</h1><p>Suddenly we were all working from home. Solutions were required...</p><h2>Clear the Desk</h2><p>Actually I didn't want to clear my desk. My regular desk has my personal computer and monitor on it. I use it all the time for 3D design, Garage Band and everything else and I didn't want to shove all that aside to make room for the work laptop. Likewise I didn't want to install a whole lot of corporate security stuff onto my own Mac just so I could use it for work.</p><h2>Second Desk</h2><p>Last post, about completing the Amiga 1200, described a ladder unit to which I added a sliding shelf. It's a good size for an Amiga 1200 but not very deep. Certainly not deep enough for an open MacBook Pro, an external keyboard and a monitor, not that I really had another monitor to spare anyway. I needed to work out how to comfortably use the MacBook Pro (hereafter MBP - a 2018 15" model) five days a week.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/all.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/all-thumb.jpeg" alt="The Amiga Desk"/></a></p><p>I don't like the keyboard on the MBP so I wanted to use an external keyboard and I much prefer an external mouse to a trackpad. Using a keyboard with the MBP open requires just a bit too much depth with a big mechanical keyboard in front of it. Also I noticed on conference calls that those using their machines flat on the desk had the camera pointing more or less straight up their noses, so it would be better to raise it up a bit on a stand.</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/protractor.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/protractor-thumb.jpeg" alt="Brass Protractor"/></a></p><p>(<em>Of course</em> you need a massive, vintage brass protractor to accurately measure a MBP.)</p><p>Stands, like monitors, office chairs and hand sanitizer all sold out about a month ago, so I made one. I measured the angle of the MBP and designed the stand so that fully open the screen would be just tilting back a little, leaving some room for camera angle adjustment.</p><p>I made a simple stand to hold the MBP open at the correct angle by 3D printing two side pieces. They are joined by PVC pipe with an outside diameter of 21.5mm (Holman water pipe). This will also allow the stand to be used on other models if I should get a wider one (surely I need an upgrade to the 16" model?)</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/mbp-stand.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/mbp-stand-thumb.jpeg" alt="MacBook Pro Stand"/></a></p><p>This raises the screen high enough in the air to make long-term use more comfortable, reduces the required desk depth a little and makes the angle of the built-in camera better for conferencing. That was the MBP, keyboard and mouse problem solved.</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/mbp-on-stand.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/mbp-on-stand-thumb.jpeg" alt="MacBook Pro on Stand"/></a></p><p>Xcode is fine on one full screen, but then switching back and forth to keep abreast of the discussions in chat and the emails and everything else got a bit tedious. I decided to use the iPad Pro as a second screen, and this post is about that stand.</p><h2>iPad Pro</h2><p>An iPad Pro is a fantastic screen. I bought a 2018 model when they were released and have not regretted it at all. For the occasional movie, for large and readable music (forScore) or books (iBooks) or PDFs (PDF Expert) and even 3D modelling (Shapr3d) it's amazing. And now with macOS Catalina "Sidecar" it can be as good as an external monitor for a Mac, and sharper than most monitors. if connected via USB-C cable it is completely lag-free.</p><h2>Elevation</h2><p>With the MBP up on a stand the iPad isn't in a good position to be a second screen as it sits down low on the table. It needs to sit up next to the MBP so that you can naturally slide the mouse cursor over. It could stack up on some books, but most covers don't offer a lot of angle adjustment so if having two things side-by-side at different angles bothers you then you will be adjusting your MBP to match. But if using the camera it is the MBP whose screen must choose the angle, too bad if the iPad stand can't match that. Making the stand angle adjustable would be best. An iPad is pretty heavy though so a simple pivot wouldn't hold it in place.</p><h2>Pivot</h2><p>I settled on using two ends for the stand as with the MBP, connected with pieces of the same water pipe. The base has two lower holes that accept water pipe, and an upper hole that is somewhat larger. Into that larger hole snaps the arm that supports the iPad. Once pipe is inserted in this pivot the arm can't work itself loose.</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/angle-adjustment.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/angle-adjustment-thumb.jpeg" alt="Angle Adjustment"/></a></p><p>The lower end of the arm has a M10x1.5 thread into which fits a matching 3D printed bolt that can be tightened to clamp through a groove in the stand base. Thus the arms can be fixed at any angle over the range of allowed movement. This picture also shows the groove into which the iPad slides. I keep mine in the Apple Keyboard Case, which sets the required width of the groove in this part.</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/side-assembly.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/side-assembly-thumb.jpeg" alt="Side Assembly"/></a></p><p>Another reason for making the arms and base separate components is that they are approaching the maximum print size of my Prusa printer. At this size it's a fairly lengthy print, using a 0.6mm nozzle at .30mm layer height takes around three hours (and the base parts take even longer). As resolution increases, printed threads become more usable right off the printer but in this case it was fine to print it rough, minimizing print time, and then I used a tap and die to improve the modelled threads in the arm and printed bolt to be as smooth as I could want.</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/tapping.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/tapping-thumb.jpeg" alt="Tapping the Thread"/></a></p><p>I'm very happy with the finished stands. There is always something to make better but since we're now talking about relaxing things a bit and possibly going back to the office in a month or two, I can live with it like this.</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/compact-workspace.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/compact-workspace-thumb.jpeg" alt="Compact Work Space"/></a></p><h2>Cheap tools</h2><p>This 40-piece set cost less than $70 - I don't think I will ever use it on anything harder than plastic, so it will do.</p><p><a href="https://grayunicorn.com/images/2020-05-12-ipad-stand/tapdieset.jpeg"><img src="https://grayunicorn.com/images/2020-05-12-ipad-stand/tapdieset-thumb.jpeg" alt="Tap and Die Set"/></a></p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2020-02-11-a1200complete</guid><title>Amiga 1200 Complete</title><description>Ready to use</description><link>https://grayunicorn.com/posts/2020-02-11-a1200complete</link><pubDate>Tue, 11 Feb 2020 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Complete</h1><p>The Amiga I was given last year has just about everything I wanted to add to it - this is the summary.</p><h2>Re-capping</h2><p>Like just about every Amiga, new electrolytic capacitors. It’s an easy job and even if it works at first, best to do it and be sure. Only the one behind the keyboard connector is at all difficult to reach.</p><h2>Hyperion Workbench 3.1.4 + update</h2><p>I bought the kit from Amiga on the Lake when it was available for under fifty bucks. The whole kit was two ROMs and five floppies. I don’t know if it is the best version available but it works for the software I want to run. If you want this there are people still selling it for reasonable prices, but eBay opportunists asking $150 are dreaming.</p><p>(That 3.5" floppy box in the photo - I think that came free with one of the first ten packs of floppies I ever bought.)</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/workbench.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/workbench-thumb.jpeg" alt="Power Supply"/></a></p><h2>Internal Power Supply</h2><p>This has been the subject of another post, but briefly the floppy drive is gone and a MeanWell RPT-60B module sits in its place. The power switch and mains cable socket are mounted in a 3D printed assembly that also holds the 9-pin mouse socket. Way nicer than having a power brick attached!</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/powersupply.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/powersupply-thumb.jpeg" alt="Power Supply"/></a></p><h2>Floppy shuffle</h2><p>With the power supply there is no room for an internal floppy. Not that one is needed often, but you do occasionally want need a DF0: to exist. After some schematic investigations I shuffled the drive select signal so that the first drive connected to the external connector is DF0:, then the one connected to the daisy chain of that first drive is DF1:, and so on. It’s easy to do with some short wires and by lifting some of the port resistors at the back of the board.</p><p>Where there’s no floppy connected a dummy plug with the required diode sits on the external floppy connector. Basically it tells the Amiga Workbench that there’s nothing wrong with the internal floppy (that isn’t there) and don’t wait for it to be ready when booting.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/shuffle.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/shuffle-thumb.jpeg" alt="Shuffling the drive ID"/></a></p><h2>Mouse</h2><p>An optical unit from AmigaKit. I don’t know how we ever used ball mouses, so horrible. One complaint I have is that it is way too light compared to all the other mice I use (containing batteries etc.) - so I might have to open it up and add some weights.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/ports.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/ports-thumb.jpeg" alt="Slightly more modern ports."/></a></p><h2>Indivision AGA MK2 CR</h2><p>These are out of production now and hard to find. I looked for months and finally found one for not too much (though still way over their new cost back when they were available). But it is worth it - without it there would be no way to get the best out of the giant monitor. Though there is an annoying mode change flicker, and there is an overlay when changing modes, I now run a Workbench at a reasonable size. SO much better than using an OSSC - even with a great quality SCART cable I think this is better. The OSSC is excellent if you want a zero-delay arcade-accurate solution but I care as much about text.</p><p>The DVI connector that comes with this card carries an analog signal too so the monitor connects easily, using a DVI-VGA physical adapter from the junk box. Because the power connector and input power filter was removed from the motherboard there is room, after moving a couple of capacitors, for a 3D-printed unit to bring this DVI socket out to the back of the case.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/indivision.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/indivision-thumb.jpeg" alt="Individual Computers Indivision AGA MK2 CR"/></a></p><h2>Monitor</h2><p>It’s an Apple Studio Display, 21” from the blue &amp; white G3 years. Not to be moved without careful planning! It’s so big the base only barely fits on the shelf without overhang. But it’s pretty amazing quality, a Trinitron tube with the two horizontal wires of the aperture grille just visible. This monitor connected via USB to the Macs of the time and adjustment was through software. The only physical controls are contrast and brightness, power and the colour button on the left (which appears to do nothing with no Mac connected). I expect I will be replacing capacitors in this monitor sooner or later but it will be worth it. There are a couple of monitors I would rather have, like the Graphite version or perhaps the legendary Sony GDM-FW900, but I'm not going to find one of those.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/monitor.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/monitor-thumb.jpeg" alt="Blueberry Apple 21" Studio Display""/></a></p><h2>Keyboard</h2><p>The Amiga 1200 keyboard was just mush and the years did not improve it. Again this was the subject of another post, but this is the third revision of my A1200 keyboard replacement PCB using Cherry MX switches. It mounts inside the Amiga with some 3D-printed rails and an aluminium rod for stiffness. I’m using genuine Cherry MX brown switches on this one - perhaps a little better than the Gateron clones and of course they cost more. The MX keyswitches are not compatible with Amiga keys so I had to make a few from blanks with laser toner and a cheap laser engraver. Not perfect but OK for now. Unfortunately my timing was bad, just as I was about to investigate having keys made it was the Golden Week holiday, now this Coronavirus lockdown has happened, but I will talk to some manufacturers about having a full international Amiga MX set produced soon - maybe crowdfunded?</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/keyboard.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/keyboard-thumb.jpeg" alt="My A1200 keyboard in place""/></a></p><h2>Speakers</h2><p>Apple M6082 are classic beige speakers, not from Commodore but at least from around the time of the Amiga. The beige/colour logo style is probably my favourite Apple has gone through. They are a good size and sound great - once you replace the drivers. The diaphragm in these units had basically fallen away around the edge of the speaker so I replaced the drivers with car speakers. One day I might get the original speakers re-coned. Lots of inputs if you want to use them with other sources too.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/m6082.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/m6082-thumb.jpeg" alt="AppleDesign Powered Speakers"/></a></p><h2>Desk</h2><p>I have had this ladder-shelf thing for a while. It’s a bit like an IKEA Ivar shelf unit but much more solid, American Cherry timber. We had a kitchen made recently and the cutout from the messmate benchtop left over when the sink was fitted was a good size - trimmed it up, used two sliding drawer units and the Amiga just slides away when not in use.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/all.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/all-thumb.jpeg" alt="Complete"/></a></p><h2>PCMCIA</h2><p>By far the easiest way to get data onto an Amiga is to use a Mac. The Mac will download Amiga archives, decompress them and put them onto a FAT-formatted compact flash easily. On the Amiga the fat95 and cf133 packages (see aminet) mount this card once inserted in the PCMCIA adapter. When I bulk downloaded a lot of software it made it easy for me to decompress and arrange all the files so that I could put the CF in the Amiga and see all the icons at the top level. “The Unarchiver” handles .lha files just like any modern archive and there’s even a command line version to download if you are scripting.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/pcmcia.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/pcmcia-thumb.jpeg" alt="PCMCIA"/></a></p><h2>4xEIDE’99 buffered disk interface</h2><p>Apparently there are better IDE interfaces, certainly there are faster ones. This works well enough for me and makes two drives possible. I have the two CF cards on the primary interface and the secondary is free in case I want to add another unit. It does need software installed for anything but the primary master interface to work correctly, apparently.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/cfassembly.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/cfassembly-thumb.jpeg" alt="Drive interface and drive stack"/></a></p><h2>Two CF card slots</h2><p>I’m not a big fan of cutting holes in a case to fit extras. However there was already a hole in this one, looks like someone had made space for a ribbon cable to exit to an external drive. So enlarging it to make a place for two CF card readers to sit seemed reasonable. The only good CF card readers I found on eBay were intended to mount in a PC case but are no bigger than the others once the backplane metal is removed. To make a nice compact unit I removed jumpers and soldered one as master, one as slave, then stacked them running the power pins through both to power both from one cable. Unlike many eBay CF adapters these work correctly with the system drive activity LED. A 3D-printed assembly holds them both nicely in place.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/cfoutside.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/cfoutside-thumb.jpeg" alt="CF Cards accessible"/></a></p><h2>Microbotics MX1230A</h2><p>The accelerator came with the Amiga, but was 33MHz. After replacing all of the capacitors on the card I obtained a 50MHz CPU, FPU and crystal, also a 5V 32x32 128M SIMM to max it out. The SIMM is recognised as 64M only - my theory is that this is related to Workbench version since the card looks to be in top condition, no chance of an address circuit being out. I would like to check it but I have no schematic for the card and no time to see if this actually works as 128M under the Workbench current at the time of this card's release. The included SetXA/AutoXA programs tell me there is no Microbotics card installed but the MMULib software from aminet installs fine; no issues accessing 68030 instructions, WHDLoad can access the 64M of memory. 64M is plenty of memory for what I need though it would be better to see all of it of course. There are 68040 and 68060 options available but when I had an Amiga many years ago 68030 is what I wanted, so that’s what I have.</p><p><a href="https://grayunicorn.com/images/2020-02-11-a1200complete/microbotics.jpeg"><img src="https://grayunicorn.com/images/2020-02-11-a1200complete/microbotics-thumb.jpeg" alt="Microbotics M1230XA"/></a></p><h2>Optical Drive</h2><p>Nah, there’s no optical drive, it’s 2020!</p><h2>What’s Next?</h2><p>Maybe if Individual Computers release a 68060 I will think about it, the Indivision is such a quality item and their preview of the heatsink for the upcoming card looks amazing. Not only that it is supposed to dramatically improve IDE speeds. Certainly I have to build a joystick, I have a Sanwa arcade stick ready to go into a case (WICO Command until then). But the 20+ GB of Amiga software I have waiting for attention will certainly take up some time...</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-12-18-latch-trapdoor</guid><title>Amiga 1200 Latched Trapdoor</title><description>Avoiding broken prints</description><link>https://grayunicorn.com/posts/2019-12-18-latch-trapdoor</link><pubDate>Wed, 18 Dec 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Latched Trapdoor</h1><h2>Building my ideal A1200</h2><p>I've been working towards the A1200 I've always wanted. There always seems to be something still coming or something left to do. It will have a 50MHz 68030/68882 card in it (parts in the mail), so it needs a ventilated trapdoor. After designing and printing a couple I found that after a few cycles the catch part would fail. Now there's obviously a problem with my 3D printing setup and printing without a fan may increase layer adhesion, or switching filaments may help. But this is a quick fix.</p><p>(There's another big problem with my 3D printing setup. I have a roll of Prusa Vanilla White filament. Looks great, is a nice match for the Amiga case, I just can't make it print. Their Urban Grey in the same material prints beautifully but as soon as I switch to Vanilla White the nozzle clogs and the gears grind through the filament trying to push it then I have to take the extruder servo off and clear it all. I have varied the termperature, done cold pulls, cleaned everything. No luck so far. Could have got a bad roll of filament? From Prusa? I don't think it is likely but I am running out of options.)</p><h2>Simple latch</h2><p>Very simple. The dimensions of the trapdoor and the inside ridge are the same as the original Amiga part, so every card should fit but please tell me if it doesn't.</p><p><a href="https://grayunicorn.com/images/2019-12-18-latch-trapdoor/outside.jpeg"><img src="https://grayunicorn.com/images/2019-12-18-latch-trapdoor/outside-thumb.jpeg" alt="Outside"/></a></p><p>Twisting the knob with the screw slot causes the latch to twist and prevents the trapdoor falling out. Twisting it back lets you remove it.</p><p><a href="https://grayunicorn.com/images/2019-12-18-latch-trapdoor/inside.jpeg"><img src="https://grayunicorn.com/images/2019-12-18-latch-trapdoor/inside-thumb.jpeg" alt="Inside"/></a></p><p>I printed this on a Prusa MK3S with an 0.25mm nozzle. The one you can see here is printed at the roughest setting available but still took 6 hours or so - must put that 0.6mm nozzle back on and see how it looks. And how Vanilla White behaves with that one too.</p><h2>Where can I get one?</h2><p><a href="https://pinshape.com/items/57455-3d-printed-ventilated-latched-amiga-1200-trapdoor">My account on Pinshape - free download.</a></p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-12-17-amiga600keyboard</guid><title>Amiga 600 Keyboard</title><description>Do it again, only smaller</description><link>https://grayunicorn.com/posts/2019-12-17-amiga600keyboard</link><pubDate>Tue, 17 Dec 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 600 Keyboard</h1><h2>What about my A600?</h2><p>A while ago I made a mechanical keyboard for the Amiga 1200, and it was a success. I'm using one, and I've just finished a Rev 3 version of the PCB that should be back in a week or so. But Amiga 600 owners said "What about a keyboard for the A600?" - "I don't have one" I said - so very kindly, user ExtremeWays on the English Amiga Board sent me one to develop the project with. Excuse gone!</p><h2>The A600</h2><p>The 600 is a great little computer. It isn't AGA like the 1200 but it is compact, has IDE and PCMCIA built in and if you buy a Vampire board is one of the faster Amigas around. The keyboard is the same mushy membrane, plunger and spring arrangement found on the 1200, only it has 30 connections to the Amiga rather than 31.</p><h2>Circuit</h2><p>I put this off for months but once started it was easy. The A600 schematic is available in PDF format and includes an accurate keyswitch matrix so I didn't need to trace out the membrane connections as with the A1200. Having some experience and a library of FFC and MX parts to work with helped a lot too.</p><h2>PCB</h2><p>With a much smaller space to work in and a very simple clip-to-mount scheme there was never much question about the substrate - it was going to have to provide all the strength, no room for bracing, so 3.2mm thickness (the maximum my PCB maker offers) was chosen. The size of the board was exactly that of the metal assembly in the original keyboard too so that it fits into the clips. Once again the FFC connector mounts on the reverse of the keyboard with the keyswitches mounted on the front. Because there is no number pad the routing is relatively easy, there is no "split" with some traces from the ribbon connector going both left and right.</p><p>I considered making the LED board part of this board but it would have added complexity, made precise alignment even more important and replaced a functional board that most people already have for no benefit.</p><p><a href="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/PCB.jpeg"><img src="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/PCB-thumb.png" alt="PCB"/></a></p><h2>First test</h2><p>With a 3.2mm substrate the solder remains fairly flat to the board, with the keyswitch pins only just protruding from the plated through holes. This is great because it's fairly easy to clean off the flux residue with cotton buds and alcohol, no sharp pins tearing the cotton apart.</p><p>When the board was done I noticed the machine had a 2.0 ROM fitted. I had turned it on when it arrived but not tried to boot anything. Since I only have 3.1.4 ROMs and Workbench nothing worked, could do nothing except for reboot and see that the Caps Lock LED was toggling! To get around this I used a <a href="https://gglabs.us/node/2067">F2R16 module</a> and loaded the latest <a href="http://www.diagrom.com">DiagROM</a> - you rock Chucky!</p><p>Once DiagROM loaded I tested the keys - of course forgetting that testing <code>Esc</code> quits the keyboard test routine a few times along the way - and everything was perfect.</p><p><a href="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/test-fit.jpeg"><img src="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/test-fit-thumb.jpeg" alt="Test"/></a></p><h2>Mounting</h2><p>One long, and two small, plastic clips hold the keyboard to the top case of the A600. These essentially give the PCB the depth that it doesn't have compared to the original keyboard module, so it fits in to the clips exactly the same way. Unfortunately there is so little room in the Amiga that the programming headers on the F2R16 module stick up and obstruct the PCB when it is fitted into the clips, so I had to remove them - will have to replace them before reprogramming or work out a way to keep them low.</p><p>The MX keyswitch sits up a tiny bit higher than the original keyswitches and I just don't think there is a way around that. Inside the Amiga the bottom of the board just can't sit any lower, plastic mouldings in the case get in the way. I did try mounting one PCB with the top of the substrate flush with the top of the clips - used a router to make a groove in the PCB, then designed a 3D-printed clip to hold it in place but it was not a success. While the keycaps arrived at the perfect height, the case could not close.</p><p>If you're making one, print two sections of rail from the STL files. One has a tiny bit trimmed off so that it fits between the two small case clips. Two short sections of rail go either side of the long case clip. These must be fixed in place (glued) so that the keyboard is perfectly centred. Also don't make the two small pieces of rail too long or they will obstruct moulding in the lower half of the case when you try to close it up.</p><p><a href="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/mounting.jpeg"><img src="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/mounting-thumb.jpeg" alt="Mounting"/></a></p><h2>Keycaps</h2><p>Weird keycaps are familiar to anyone that has tried to replace Amiga keys. The A600 makes this even worse, with 1.5U <strong>Esc</strong> key, 1U <strong>BS</strong>, 1U <strong>Del</strong>, 1.5U <strong>Shift</strong> etc. - these are impossible to buy. Then you get to the 1.25U <strong>Help</strong>, 2U <strong>Tab</strong>, 1.25U <strong>F</strong> and <strong>Amiga</strong> keys - also unobtainable. I decided to make some.</p><p>I used a laser engraver from eBay, called "INSMA", claiming to be 3000mW. This piece of garbage makes me angry every time I use it. Awful software, next to no safety, absolutely broken as designed - the USB plug can't even reach its socket properly through the plastic case! The power supply exploded and was replaced. Deep breath, stop thinking about it...</p><p>In the end I made some caps by dipping blanks in laser toner and then engraving to fuse the toner. Not great, just OK. Took way too long and was way too frustrating. Don't buy a cheap laser engraver because they are just junk.</p><h2>Space</h2><p>One of Commodore's weirdest features has always been the space bar. I'm sure others have used 9U spacebars but I can't name any machines off-hand. The A600 doesn't use that, it uses an 8U spacebar! Now Signature Plastics does sell 8U and 9U spacebars but they are the only source I know of. If they sell out and decide not to make more that could be it, so I went for a 7U spacebar.</p><p>The original plan was to use a conventional 7U arrangement and to make 1/2U spacer blocks that plug into the 3 holes I placed in the PCB for that purpose. I found they were a little too tall and skinny to fix securely so made an integrated spacer and stabiliser unit:</p><p><a href="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/printed-spacebar-unit.jpeg"><img src="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/printed-spacebar-unit-thumb.jpeg" alt="Space unit"/></a></p><p>I did not expect the 3D printer to be able to consistently produce prints that would allow the key stabilisers to work smoothly, but it does. The whole thing fastens to the PCB with two M3 nuts and bolts. You can buy wire for 7U stabilisers but I didn't have any so again bent a used bicycle spoke. At 1.8mm this is the perfect substitute wire. Just bend accurately and at a good right angle or you get a spacebar that will go down but doesn't come back up.</p><p><a href="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/spacebar-in-place.jpeg"><img src="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/spacebar-in-place-thumb.jpeg" alt="Space unit in place"/></a></p><h2>The result!</h2><p>This is it! If I'm ever going to get back to the Infocom text adventures or Amiga assembly code I might have to do it on an A600. This keyboard really feels good.</p><p><a href="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/complete.jpeg"><img src="https://grayunicorn.com/images/2019-12-17-amiga600keyboard/complete-thumb.jpeg" alt="Complete"/></a></p><h2>Where can I get one!?</h2><p>Chances are I have none for sale - but you can ask. More likely you will need to go to my <a href="https://github.com/aeberbach/A600KB">repository on GitHub</a> and have the PCBs made yourself. This is pretty expensive if you have one made, much more affordable if you can get 5 others who will pitch in and want a PCB too. You will also need to download the STL files and print the 3D-printed parts yourself. Apart from PCB and printing, you need 78 MX PCB-mount switches, a 32-way FFC connector (Mouser part number 538-52044-3245), a 32-way ribbon cable (Mouser part number 538-15168-0400), stabilisers, keycaps and one 3mm LED.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-11-09-minipulse2</guid><title>Minipulse Metal Detector, part 2</title><description>Ready to strike it rich</description><link>https://grayunicorn.com/posts/2019-11-09-minipulse2</link><pubDate>Sat, 9 Nov 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Minipulse Metal Detector, part 2</h1><h2>Done</h2><p>In a rare example of finishing a project that started some time ago, the metal detector is done. I <a href="https://grayunicorn.com/posts/2016-04-13-minipulse/index.html">started in 2016</a> and it was always going to be ready for the next camping trip. After becoming more comfortable with the 3D printer now it is.</p><p>Powering such a thing is always a bit tricky and when the device needs 12V it's even harder. That's eight 1.5V batteries, a lot to manage. Or you could use the rechargeable 16850 Lithium ion cells, they are not expensive but you do need to buy a charger for them and some way to hold the cells in the device. A lot of people have done this and it's a good solution. However I decided to use the battery packs I already had for my drill/line-cutter/hedge trimmer, the Ryobi 18V system. These were the cheapest of all since they are just sitting in the garden shed most of the time. They're also big enough that two packs is going to be beyond the enthusiasm of even the most tireless kid to exhaust in a weekend. I think a module to convert the nominal 18V from the pack to 12V cost $2.80 or something on eBay. This does weigh more than the 16850 solution but I don't find it too heavy.</p><p><a href="https://grayunicorn.com/images/2019-11-09-minipulse2/voltage-converter.jpeg"><img src="https://grayunicorn.com/images/2019-11-09-minipulse2/voltage-converter-thumb.jpeg" alt="12V output, done dirt cheap"/></a></p><p>So with that in mind I set out to make a 3D model of the underside of the drill these batteries connect to. It took three prototypes before I had one that would let the drill pack click in snugly without rattles, but on that third one I just decided to finish it and did everything down to the full case with holes for the headphone jack, coil plug and the lid. The final print was fantastic - having a 5 hour window for the print meant I selected best quality options and both lid and case turned out great. Or well enough anyway. PETG always seems to have a lot of stringing.</p><p><a href="https://grayunicorn.com/images/2019-11-09-minipulse2/housing.jpeg"><img src="https://grayunicorn.com/images/2019-11-09-minipulse2/housing-thumb.jpeg" alt="Boxy. Like a Volvo 244DL"/></a></p><p>(On the way home to this print I stopped at the hardware store to pick up some 20mm electrical conduit for the wand - I found "20mm" PVC pipe before I got tot he electrical section so I got that instead - be warned, "20mm" PVC is internal diameter, "20mm" electrical conduit is outside diameter. Oh well the white stuff that is too big will be useful one day.)</p><p>Next up is the coil. Some years ago I printed a coil former with the aim of building a low capacitance coil, separating the coil windings and achieving a 90 degree crossing of the wires as much as possible. To protect this coil it needs a housing and the entire coil assembly needs to be adjustable to it stays relatively flat to the ground, that angle being adjustable depending on the user's height. The coil is 200mm diameter so any housing is very close to the capacity of my 3D printer...</p><p><a href="https://grayunicorn.com/images/2019-11-09-minipulse2/coil-housing.jpeg"><img src="https://grayunicorn.com/images/2019-11-09-minipulse2/coil-housing-thumb.jpeg" alt="Coil housing"/></a></p><p>The angle adjustment is achieved by having interlocking vanes with a 3D-printed bolt holding it all together. It's a good idea to keep metal away from the coil so while I could have bought a much stronger nylon bolt and nut, I just printed a thread on the bolt and on the last plate of the fingers so that the coil angle can be adjusted and the bolt tightened. Fusion 360 makes this incredibly easy - just pick the "Thread" tool under the Create menu and make sure both tapped hole and bolt have the same kind of thread applied. I thought I would be looking up thread measurements and applying formula for hours here. The thread print takes a while, obviously the better it is printed the smoother the thread will be.</p><p><a href="https://grayunicorn.com/images/2019-11-09-minipulse2/coil-pivot.jpeg"><img src="https://grayunicorn.com/images/2019-11-09-minipulse2/coil-pivot-thumb.jpeg" alt="Coil pivot"/></a></p><p>Unless your printer is really dialled in, 3D printed threads don't work all that well unless you touch up the threads with a real tap &amp; die set.</p><p>Joining all the parts is the 20mm orange electrical conduit. Tarzan's Grip glue is great for joining this to printed parts. Because it expands to fit space by absorbing moisture it fills gaps. If the fit between conduit and printed part is something that is going to be held in place by expansion, like a printed cylinder fitting inside the conduit, it's secure. One piece of conduit acts as the wand of the detector, joining the coil pivot to the handle. Another is hidden, coming from the other side of the handle into the metal detector housing.</p><p><a href="https://grayunicorn.com/images/2019-11-09-minipulse2/handle.jpeg"><img src="https://grayunicorn.com/images/2019-11-09-minipulse2/handle-thumb.jpeg" alt="Handle"/></a></p><p>And the result is this. It's far from finished, but it is ready to use. When I rework this design I will try to decrease the size of the box, probably by making the battery mount from the rear as it does on the line cutter.</p><p><a href="https://grayunicorn.com/images/2019-11-09-minipulse2/detector-side.jpeg"><img src="https://grayunicorn.com/images/2019-11-09-minipulse2/detector-side-thumb.jpeg" alt="Holding end"/></a></p><p><a href="https://grayunicorn.com/images/2019-11-09-minipulse2/finished-coil.jpeg"><img src="https://grayunicorn.com/images/2019-11-09-minipulse2/finished-coil-thumb.jpeg" alt="Gold-finding end"/></a></p><p>Now to find some gold.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-10-09-RPi4-PSU-case</guid><title>Powering the Raspberry Pi 4</title><description>A case for Raspberry Pi 4 with inbuilt PSU</description><link>https://grayunicorn.com/posts/2019-10-09-RPi4-PSU-case</link><pubDate>Wed, 9 Oct 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Powering the Raspberry Pi 4</h1><p>If you have ever used a Raspberry Pi you have probably used plugpacks, and you may have decided not to buy one at first because you had ten lying around already. And then you found the Pi wouldn't run using anything but a genuine Raspberry Pi foundation unit. I did.</p><p>When the Raspberry Pi 4 appeared with a requirement for a USB-C 15W power supply I thought I would probably buy the Pi official Pi supply for that too. But having just done the Amiga Internal PSU using a Mean Well module and some 3D printing I decided I would rather do the same here. And in 2019 I don't have ten USB-C plugpacks lying around anyway.</p><p>Sure enough they have the <a href="https://www.meanwell.com/webapp/product/search.aspx?prod=MFM-15">MFM-15-5</a> - a 5V, 15W supply for around AUD$16. It would handle a Raspberry Pi easily, if only it had a housing. So I made one. I have a theory on these things - they have to be decent as well as cheap because the engineers who are supposed to buy them and use them in products can see them, unlike what is inside a sealed plugpack.</p><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/main_body.png%20"Main Body"" alt="Main Body"/><p>With Fusion360 I made a few versions of a housing for the Pi with an attached compartment for the power supply module. The IEC C8 plug snaps into place on one side and the 5V output connects via two wires to the Pi in the other compartment.</p><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/psu_top.png%20"PSU lid"" alt="PSU lid"/><p>There are two separate lids so that you can leave the Pi lid off if you want while keeping the mains power covered.</p><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/pi_top.png%20"Pi lid"" alt="Pi lid"/><p>Powering the Pi is pretty easy since the power pins are available on the header. It would have been OK to plug the power into the top of the header but then other headers, or hats, would not fit. Instead I took some longer right-angled header pins and took out the GND and 5V pins from the main header, inserting the right angled pins instead. Then the power wire can attach on the bottom of the Pi leaving the header available.</p><p><a href="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/pwr_pins.jpeg"><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/pwr_pins_thumb.jpeg"/></a></p><p><a href="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/power_wires.jpeg"><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/power_wires_thumb.jpeg"/></a></p><p>The power supply module connects to the mains plug on one side with the 5V wires going into the Pi side through the ventilation holes. It's held down with a cable tie.</p><p><a href="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/psu_detail.jpeg"><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/psu_detail_thumb.jpeg"/></a></p><p>When all hooked up you don't need to see the power supply wiring at all. The Pi has everything available.</p><p><a href="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/ready_to_use.jpeg"><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/ready_to_use_thumb.jpeg"/></a></p><p>The big difference is you plug in a regular mains cable. No plugpacks!</p><p><a href="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/power_side.jpeg"><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/power_side_thumb.jpeg"/></a></p><p>The main use I have for this thing is on the 3D printer itself, running <A HREF="https://octoprint.org">Octoprint</A> - Official Pi 4 support is not ready yet but I have found the Pi 4 test builds very stable. It can do other things like <A HREF="https://pi-hole.net">Pi-hole</A> while attached to the printer housing but it needs to be close to the printer to take care of the webcam.</p><p><a href="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/on_printer.jpeg"><img src="https://grayunicorn.com/images/2019-10-09-RPi4-PSU-case/on_printer_thumb.jpeg"/></a></p><p>You can download the STL file at <a href="https://pinshape.com/items/55650-3d-printed-raspberry-pi-4-case-with-built-in-power-supply">my page on Pinshape</a> - it's free and is by far my most popular design.</p><h2>Brief Autodesk Fusion 360 comments...</h2><p>Autodesk's website sucks. Hard to navigate, too many confusing options. You don't just download the product, you download a "downloader". The app itself is OK once you're doing something. BUT the cloud-based nature of everything makes it a pretty bad experience. If you like waiting a few minutes every time you want to load a project, or waiting again when you want to produce some STL output then you'll love Fusion360! I wish they could have just written a local Mac application. Not that it's any better in the Windows version, I have been using both. Maybe if you're paying for an expensive license they will sell you a local "cloud" server or something. And the licensing has just changed. No more "Startup" license for everyone, now the free license has a few restrictions on what the product can do and the Startup requires some qualification. I'm not sure how (or if) this will affect me yet.</p><p>Once again, don't do anything like this unless you are competent and understand the risks. Making connections incorrectly or being careless could destroy your Pi or even kill you.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-08-13-amiga1200-PS</guid><title>Amiga 1200 Internal power supply</title><description>No more brick</description><link>https://grayunicorn.com/posts/2019-08-13-amiga1200-PS</link><pubDate>Tue, 13 Aug 2019 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Internal power supply</h1><h2>I just don't like cables</h2><p>Lots of people have updated their Amiga power brick with newer power supply modules because the older bricks are suffering from elderly capacitors, and power supplies like the <A HREF="https://www.meanwell-web.com/en-gb/ac-dc-triple-output-medical-open-frame-power-rpt--60b">Mean Well RPT-60B</A> are an ideal replacement. They give you more power capacity than the original and they are more convenient (and probably cheaper) than replacing capacitors or diagnosing the fault in an older power supply.</p><h2>Internalizing it</h2><p>I also used one of these supplies in my Commodore power brick - worked fine, and it stopped some graphics corruption and crashes I was seeing due to the supply failing. When I got the unit I was surprised to see that it fit really well in the space under the floppy drive in an Amiga 1200... got me thinking!</p><p>I never use the floppy. If I need one in future I will use an external one to behave as DF0: - it's not hard to find the disk select line at the 23-pin connector and instead connect that to the disk-select line on the internal floppy header.</p><p>Turns out I didn't mount it exactly in that space but I did lose the floppy. Using the 3D printer I made a new assembly to house the IEC C8 AC inlet, the power switch, and the mouse DB9 socket. The power supply is mounted on a plate that fits into slots at the back of this unit and is held down at the front with some M3 bolts. A cover protects the mains voltage section of the power supply. The entire unit mounts into the A1200 case using the holes that the floppy drive used to use.</p><p><a href="https://grayunicorn.com/images/2019-08-13-amiga1200-PS/PSU.jpg"><img src="https://grayunicorn.com/images/2019-08-13-amiga1200-PS/thumb-PSU.jpg" alt="Power supply unit"/></a></p><p>The 3D printer didn't do the best job last night. Part of the reason for making the power supply assembly in three printed parts was to avoid bridging, supports and other extruded plastic hassles. Usually the Prusa does better than this though. I will probably revise to make it more printable by using some supports, thickening in places and make it a little nicer but structurally this is fine.</p><p>Inside the machine I removed the original power connector and for good measure the rusty old RF modulator. Power cables come from the left side of the case to the power supply.</p><p><a href="https://grayunicorn.com/images/2019-08-13-amiga1200-PS/inside.jpg"><img src="https://grayunicorn.com/images/2019-08-13-amiga1200-PS/thumb-inside.jpg" alt="Open Case, Rear"/></a></p><p>And that's all there is to it. The power cable enters the machine at the back right and it's easy to reach the power switch, no more bending down to the floor.</p><p><a href="https://grayunicorn.com/images/2019-08-13-amiga1200-PS/rear.jpg"><img src="https://grayunicorn.com/images/2019-08-13-amiga1200-PS/thumb-rear.jpg" alt="New Power Socket and Switch"/></a></p><p>(The case screws aren't in - it does close completely with about 1mm to spare)</p><p>I'll be checking this out as I go using a <a href="https://www.maximintegrated.com/en/products/ibutton/data-loggers/DS1922E.html">Maxim/Dallas Thermochron button</a>, a compact temperature logger that can fit inside the case and record temperature over time as the machine is used. I don't anticipate any problems as the ventilation here is probably better than in the brick and this is a very efficient supply, I never noticed the brick even getting warm.</p><p>Of course, don't do anything like this unless you are competent and understand the risks. Making connections incorrectly or being careless could destroy your Amiga or even kill you.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-07-18-a1200-kbd-9</guid><title>Amiga 1200 Keyboard, part 9</title><description>Ready to use</description><link>https://grayunicorn.com/posts/2019-07-18-a1200-kbd-9</link><pubDate>Thu, 18 Jul 2019 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 9</h1><h2>It's been a while!</h2><p>Well not that long as far as time between blog posts goes. Last time I had decided that the way to mount this thing was 3D printing. Almost as soon as the last post was up I decided it would be educational and useful for all kinds of stuff, so I got one. I ordered the Prusa i3 MK3S kit direct. Couldn't believe when it shipped the same night and arrived in Australia in just a couple of days. And then I went to WWDC in San Jose, so it went untouched for about two weeks.</p><h2>Prusa 3D Printer</h2><p><a href="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/prusa-printer.jpg"><img src="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/thumb-prusa-printer.jpg" alt="Prusa i3 MK3S"/></a></p><p>I've never owned another 3D printer though I have used a couple. The really impressive thing with this machine is that you get everything right down to alcohol wipes, hex keys, pliers, filament, and an instruction manual the size of a thick glossy magazine with photography to match. You even get a pack of gummy bears. Check out any number of youtube videos for a full review of this kit but if you're wondering whether it's worth the premium over cheaper printers I'd say definitely yes. Has worked well from the first print (one nozzle jam but fixed easily enough).</p><p>Octoprint deserves its own post, but what a great piece of software. I'm using it. So much nicer to use a web interface over shuffling SD cards around.</p><h2>Design and build</h2><p>Previously pictures were shown of the aluminium mounts I made for the keyboard in the A1200.net case. I decided to stop using these and to change the design a bit for a few reasons. First, it's too hard to make, and with the machinery I have available it is a bit dangerous to be routing small pieces of aluminium angle. I sold a few boards and I wanted to be able to give those people 3D designs too, and I wanted the pieces to be easy to install.</p><p>I used Fusion 360 from Autodesk. It's good because it's powerful, and it's free for an individual if you derive less than $100k in revenue annually from using it. That's me. It sucks because so much of it is cloud-based. Every single time you want to export to STL you wait, and wait, and sometimes it eventually succeeds. I'm using Shapr3D on the iPad Pro also - fantastic so far.</p><p><a href="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/front-with-rails.jpg"><img src="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/thumb-front-with-rails.jpg" alt="The front"/></a></p><p>In the A1200.net case there is some plastic molding right above the edge of the keyboard - that made fitting a piece of aluminium angle necessitate filing slots for those plastic fins to fit into or the case could not close. This could not continue with a 3D printed solution because plastic is just way more flexy and including slots would remove any stiffness it ever had to begin with. This problem almost had me thinking I would need to redesign the PCB.</p><p><a href="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/back-with-rails.jpg"><img src="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/thumb-back-with-rails.jpg" alt="The back"/></a></p><p>Then I thought about putting a 10x3mm aluminium bar under the keyboard, supporting from behind and being supported in turn by the side rails - and it works! To avoid having a long piece of conductive metal in proximity to anything in the trap door (or the keyswitches) I printed 3cm lengths of rectangular section that fit nicely over the bar. This also raises the keyboard support so the PCB does not sag in the middle. The ends of the bar fit into the sockets on the side rail pieces, which then attach to the side of the keyboard with short M3 bolts. Finally the lower support rails attach with longer M3 bolts.</p><p><a href="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/kbd-in-case.jpg"><img src="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/thumb-kbd-in-case.jpg" alt="In the case"/></a></p><p>This gets the keyboard in just the right spot. DSA key profile makes it all a good fit. I also checked it out in the original Amiga case, and though I had to revise the bottom rails to clear the round bumps either side everything was fine there too. It is a tighter fit in the original Amiga case but still good. There is plenty of room to clear any trapdoor accelerator you might have. Devices like Indivision, I don't know, I don't have one.</p><p><a href="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/case-closed.jpg"><img src="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/thumb-case-closed.jpg" alt="Case closed"/></a></p><p><a href="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/key-profile.jpg"><img src="https://grayunicorn.com/images/2019-07-18-a1200-kbd-9/thumb-key-profile.jpg" alt="Key profile"/></a></p><h2>And that's it! (not really)</h2><p>The Amiga is now fitted with the mechanical keyboard, 4GB solid state disk module, 3.1.4 ROMs. I got a PCMCIA adapter so transferring data from the PC is no problem. But I still need:</p><ul><li>Hyperion 3.1.4.1 update (Amiga on the Lake have mailed me a serial number for my OS, waiting)</li><li>optical mouse (ordered from Amigakit, waiting)</li><li>IDE interface and multiple internal CF card adapters (Amigakit, waiting)</li><li>joystick (have a basic one, but I need to build up the ultimate Sanwa I have been collecting parts for)</li><li>monitor solution - got the OSSC, have not had time to do much with it yet.</li><li>figure out WHDLoad and get all my favorites like Dungeon Master and FA/18 Interceptor working again.</li><li>proper Amiga keycaps. Time to start experimenting with laser engraving some of the blank keycaps I bought.</li></ul>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-05-16-amiga1200-mmu</guid><title>Amiga MMU Software</title><description>Well I didn't know that.</description><link>https://grayunicorn.com/posts/2019-05-16-amiga1200-mmu</link><pubDate>Thu, 16 May 2019 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga MMU Software</h1><h2>68030</h2><p>Since getting the 3.1.4 software from Hyperion I have been seeing a message about no 68030.library being available, but then Workbench proceded to load and for a while I thought no more about it...</p><p>Getting software on the Amiga had been pretty annoying. My storage is a disk module that has no master/slave setting so I have not tried to connect another drive. Also my power supply is suspect so I have not tried to boot two drives and therefore can't just fill a drive with software on another machine. I tried out Amiga Explorer with the serial port (and had too much fun wiring up a D-25 cable) and it worked, but things were so slow. I found that a PCMCIA card would let me transfer data over the network so I bought one, a D-Link DFE-670TXD. This card was mentioned in a few forums as working. TCP/IP would be much faster than 19.2K serial!</p><p><a href="https://grayunicorn.com/images/2019-05-16-amiga1200-mmu/DFE-670TXD.jpeg"><img src="https://grayunicorn.com/images/2019-05-16-amiga1200-mmu/DFE-670TXD-thumb.jpeg" alt="Glorious 16-Bit Networking"/></a></p><p>Then I downloaded the Miami TCP stack and of course chose to install the 68020 version since the Amiga 1200 is a 68020 and I have a 68030 anyway. It connected to a network.I could ping it, even see ARP traffic. But it never worked with Amiga Explorer.</p><p>With the keyboard project finished (sort of - keycaps are being made. Article to come...) and the case screws back in I decided to search a bit and get rid of the 68030.library warning. I grabbed the MMU package by Thomas Richter and installed and ...wow. Everything went faster. And as soon as I tried Miami TCP again with Amiga Explorer it connected first try, and transferred data as quickly as I could wish. So there you go - you need that library.</p><h2>Power Supply</h2><p>When I got the Amiga it had an ancient half-height hard drive in it that I initially figured was bad - but later found that it was fine, the Amiga just did not supply enough power. In an external adapter in WinUAE it was recognised as a valid Workbench. Additionally FA/18 will play but with corrupted graphics eventually - also due to low power? I hope so. So I bought a MeanWell RPT-60B open frame power supply module and will fit it in a ventilated case (when that arrives). Since I will also want to power a couple of 5V devices from time to time including an OSSC (scan converter) I'm thinking of building a modular output so I can add a 5V cable to power things from the supply rather than using a bunch of plugpacks.</p><img src="https://grayunicorn.com/images/2019-05-16-amiga1200-mmu/RPT-60B.jpg" alt="Open-frame Power Supply"/>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-05-04-a1200-kbd-8</guid><title>Amiga 1200 Keyboard, part 8</title><description>Finished</description><link>https://grayunicorn.com/posts/2019-05-04-a1200-kbd-8</link><pubDate>Sat, 4 May 2019 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 8</h1><h2>New PCB</h2><p>The new board came back as expected, again with fantastic service from <a href="ourpcb.com.au">Our PCB</a>. Mark checked my design thoroughly and detected a piece of copper that would have shorted out a few keys in the design - he deleted it for me before forwarding the job for manufacturing. I can't stress how good these guys are for a hobbyist in Australia!</p><h2>Soldering it up</h2><p>No surprises here. The keyswitches all mounted in the holes they were supposed to go in, one LED in the CapsLock key, and the FFC connector in its place. Soldering was easy. And as soon as the soldering was done I plugged it in to DiagROM and everything tested perfectly. This is a board with no cuts or extra wires!</p><p><a href="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/construction.jpg"><img src="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/thumb-construction.jpg" alt="Soldering it up"/></a></p><h2>Mounting rails and stiffness</h2><p>Once again I used some aluminium angle thick enough to turn into a compound set of angles with a router blade, as previous angles. This time however the PCB has mounting holes designed in. To fit the rails I used a spring-loaded punch to mark the location of required holes, then drilled the holes and used a M3 tap to make a threaded hole ready for a M3 screw. The rails then attached to the PCB with two screws per side and the keyboard sits exactly where it is supposed to be.</p><p><a href="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/thread.jpg"><img src="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/thumb-thread.jpg" alt="Soldering it up"/></a></p><p>At the bottom of the keyboard is space for another piece of aluminium that engages with the bottom of the case and sets the position of the keyboard vertically. This is a thin piece, so instead of cutting threads I just made holes and put nuts on the other side. At the top of the keyboard there is a rail made of aluminium angle. Its purpose is just to make the keyboard feel stiff. 2mm is a thick board, but in the centre it does move when a key is pressed - but with the rail in place fastened firmly to the top of the PCB it is nice and stiff, fels as good as any keyboard I have.</p><p><a href="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/soldered.jpg"><img src="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/thumb-soldered.jpg" alt="Ready to install"/></a></p><h2>Keycaps</h2><p>When you look at the A1200 there are a few gaps, it's like a grin with teeth missing. I think the way to fix this is to buy blank keycaps and to buy a laser engraver. It should be possible by experimenting with laser power and drawing speed to produce a full set of Amiga keys just like the originals. And that's the next project. But first, time to boot some Infocom adventures and maybe some 68000 assembly programming with my new keyboard :D</p><p><a href="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/complete.jpg"><img src="https://grayunicorn.com/images/2019-05-04-a1200-kbd-8/thumb-complete.jpg" alt="Ready to use"/></a></p><h2>And that's it!</h2><p>The Amiga is now fitted with the mechanical keyboard, 4GB solid state disk module, 3.1.4 ROMs. But I still need: - optical mouse - joystick (have a basic one, but I need to build up the ultimate Sanwa I have been collecting parts for) - monitor solution (waiting for my OSSC to arrive, or one day Indivision AGA Mk 2?) - better way to transfer data (Amiga Explorer is slow with the native serial port...) - figure out WHDLoad and get all my favorites like Dungeon Master and FA/18 Interceptor working again.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-04-27-a1200-kbd-7</guid><title>Amiga 1200 Keyboard, part 7</title><description>Disassembly</description><link>https://grayunicorn.com/posts/2019-04-27-a1200-kbd-7</link><pubDate>Sat, 27 Apr 2019 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 7</h1><h2>Salvaging the parts</h2><p>Building rev 2 means a whole new PCB. Rev 1 is no good any more but there are $50+ worth of parts on the board and they need to be reused. Desoldering used to be hard but now is not much of a challenge...</p><p>This is the FFC connector that joins the keyboard to the Amiga. You could possibly remove this from a board with basic soldering methods but it would very likely not be as neat or as easy as with my new desoldering tool.</p><p><a href="https://grayunicorn.com/images/2019-04-27-a1200-kbd-7/ffc-extracted.jpg"><img src="https://grayunicorn.com/images/2019-04-27-a1200-kbd-7/thumb-ffc-extracted.jpg" alt="Desoldered FFC"/></a></p><h3>Melt and pull</h3><p>Level 0 desoldering. This works where things have one or two leads only. You melt the joint(s) with your iron then pull the part out. Burned fingers are likely. Not to be confused with more sophisticated melt and pull methods like hot air or infrared.</p><h3>Solder wick</h3><p>Level 1 desoldering. A copper braid is placed on the joint to be desoldered and then heated. The heat travels through the copper braid and it soaks up the molten solder using capillary action. Some braid is pre-fluxed and this tends to work better, solder flows better with flux. If your braid isn't pre-fluxed try applying some to it - buy a flux pen to start with - and see the difference. This method is likely to succeed where there is plenty of room around the joint and where there is a high tolerance to heat. Delicate glass-bodied diodes or vintage ceramic caps may suffer from the higher heat of this method.</p><h3>Solder pump</h3><p>Level 2 desoldering. There are pumps and there are pumps. The best manual pump I know of is the mighty <a href="https://duckduckgo.com/soldapullt?ia=products">SOLDAPULLT</a> - at the price why would you buy anything else? It has about four times the volume of the rubbish pumps a lot of hobbyist stores sell so it can actually move the solder. It has a tip that doesn't melt and if you do damage a tip it stands up to re-trimming with a sharp knife well - or you can just buy a replacement.</p><p>These things do require maintenance to remain effective. Silicon grease keeps the air piston moving air, while regularly emptying out the sucked solder keeps it from getting blocked up. I have had mine for at least 20 years and I am still using the first tip - obviously not a heavy user, but heavy enough. There is really a lot of complete garbage sold pretending to have the ability to pump solder and not a lot of it does - the Chinese aluminium things are a great example. There's al alternative available from Engineer tools - this may be OK, I have never had an Engineer brand tool that wasn't reasonably good. However I will trust the soldapullt. I could have stripped the entire board with the soldapullt but it would have taken a bit longer.</p><h3>Solder vacuum</h3><p>Level 3 desoldering. As with manual pumps there are levels of quality! And I though one day I might aspire to owning a Hakko - but with the price of the ZD-985 desoldering station I decided to follow sensible tool advice:</p><p>"investigate the cheapest tool you can. If you use it enough that you need more than that buy the best"</p><p>Here's Dave from EEVBLOG having way too much fun with the ZD-985.</p><iframe width="640" height="363" src="https://www.youtube.com/embed/Ft50m8UU5WQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>I think I paid $138 delivered and mine worked out of the box, unlike Dave's! He finds it has some problems but is obviously enjoying himself when he gets started. BTW that solder sucker he shows at 1:48 is a great example of the kind of pump that doesn't work.</p><p>I found this worked GREAT! Until it didn't. My fault though. Regular maintenance is as important here as it is with the manual solder pump but technique is maybe as important. When I started using the pump I soon found it blocked up in the nozzle with solid solder gathering just short of the collection chamber. Repeated poking with the supplied cleaning stick got rid of that but why was it there?</p><p>Dave shows that the technique is to put the tip of the vacuum over the joint and as soon as it melts to use the tip to wiggle the component lead around while applying suction with the trigger. This allows air to flow all around the lead and hopefully all of the solder will be vacuumed away leaving the lead free. What I was doing wrong was letting go of the trigger too early. If you keep the vacuum going while pulling the tip away from the board this allows a large amount of air to chase the melted solder up into the collection chamber, keeping it from settling in the tube and blocking everything up. Before doing it properly I blocked up the gun with just a quarter of the keyswitches. After figuring out the technique I finished the rest of the board with no more blockages and took a very satisfying button-sized lump of collected solder out of the collection chamber at the end. All the components came out easily, even the 32-pin connector pictured at the top of this post.</p><h3>Level 4 and beyond...</h3><p>Beyond me that is. Hot air rework stations. Heating pads. Infra-red. Maybe if I win a lottery and have time to go and learn to use them properly.</p><h2>rev 2</h2><p>The rev 2 PCB is back in a couple of days so it won't be long. I've been thinking about keycaps and populating all the weird Amiga keys - it's pretty easy to get blank keycaps in any size and laser engraving machines are under $100. That could work...</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-04-23-a1200-kbd-6</guid><title>Amiga 1200 Keyboard, part 6</title><description>Fitting the keyboard in the case</description><link>https://grayunicorn.com/posts/2019-04-23-a1200-kbd-6</link><pubDate>Tue, 23 Apr 2019 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 6</h1><h2>Fitting the PCB</h2><p>The PCB is back! It's really big, barely goes in my backpack with the zip shut. I can get a 104-key modern board in my backpack but not this PCB! It arrived right on time and very carefully packed. This is a simple board so the difficulty rating is pretty low but the manufacturer really has done a great job and I would not hesitate to use them again.</p><p><a href="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/fit.jpg"><img src="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/thumb-fit.jpg" alt="Testing Fit"/></a></p><h2>Does it work?</h2><p>Building it was easy. The PCB-mount switches stuffed in easily and so did the FFC connector and LED. It works! With DiagROM in the system I tried it out and every key generates the right codes, except for Help and Del. This was my fault - I forgot to solder those two switches! But everything is fine, right down to the Caps Lock LED turning on and off.</p><h2>Does it fit?</h2><p>No. I kind of expected to find a few things that needed fixing and I did. This is what comes of not having a piece of 2mm material to fit in place and see where the problems might be before having a PCB made.</p><ol><li><strong>Too high!</strong> The board sits perfectly across the width of the case, right on the thin ledges provided in the bottom case mold. Unfortunately in this position the keyswitches sit up too high.</li><li><strong>Too thick!</strong> The PCB material is too thick to fit under the clips at the front of the Amiga case. That's OK, I can route it back and add a strip of metal attached to the front of the PCB that will fit. As mentioned it is too high anyway.</li><li><strong>No LED window!</strong> The A1200 case has a small PCB with three LEDs in it. The original keyboard has a hole cut out to allow the lid to close. I overlooked this.</li><li><strong>Flexy!</strong> This will definitely require aluminium angle at the top edge to stop the flex, as expected.</li><li><strong>WTF?</strong> Check out the weird footprint below - this happened with the TAB key and the numpad '(' - both keys on the top left of a group. Both showed that they had the right footprint in KiCAD. Both corrected instantly as soon as I selected the footprint again, while making rev 2. You can see the central pin for the keyswitch has moved down. Easily fixed with a round file but I would rather it is in the right place.</li></ol><p><a href="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/bad-footprint.jpg"><img src="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/thumb-bad-footprint.jpg" alt="Bad Footprint"/></a></p><p>Though I want the stiffness of 2mm PCB material here it's too thick to go in the clips at the bottom of the case. I will need to cut the board back and attach a piece of 1mm aluminium, stepped down to the level of the clips.</p><p><a href="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/too-thick.jpg"><img src="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/thumb-too-thick.jpg" alt="Too Thick"/></a></p><p>And the keycaps sit too high when the PCB is sitting on top of the case supports. The entire PCB needs to be lowered within the case.</p><p><a href="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/key-height.jpg"><img src="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/thumb-key-height.jpg" alt="Too High"/></a></p><h2>Make it fit - lower It</h2><p>Sitting up on the supports makes the keys too high. The only thing to do is trim the edge of the board so that it can drop down inside the case, below the supports, but still be supported somehow. There is room for screws and brackets if careful. Is there an aluminium extrusion somewhere that could do this? A quick search produced no joy, at one end Bunnings with a lot of standard and chunky extrusions that don't look useful and at the other end a lot of industrial suppliers that can probably do anything but say "call us for a quote". Small quantities of unusual angle could easily cost more than my whole project, so I gave that up.</p><p>Then I thought about routing some aluminium. For a Mac mini project some time ago I routed a CD slot in a sheet of aluminium. It does dull your router bits but if everything is well supported and you are careful, no problem. (That's what using a router is really - 95% preparation, 5% cutting.) If I took some 3mm thick right angle and routed in from the outside corner I could create a step-shaped piece that would sit on the case ledge, then drop down to support the keyboard. The height this drops the keyboard by would be controlled by the depth of the cut with any excess trimmed off the top so the case can close. With 3mm of thickness, that allows for 2mm siting on the ledge (plenty) and 1mm of material left to support the keyboard (plenty). I did not like the idea of putting my fingers 10mm from a spinning router bit so I first made a rebate along the edge of a piece of thick ply then placed the angle wrapping around the timber with one face in the rebate. Then attached with screws through the face that won't be routed, so that the face that will be routed is exposed and securely fixed.</p><p><a href="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/attach-angle.jpg"><img src="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/thumb-attach-angle.jpg" alt="Securely Mounted"/></a></p><p>Then gradually increasing the size of the cut I added in a new rebate to the outside of the extrusion so that with the PCB resting inside the original angle, the new cut would sit on top of the original case keyboard supports. This picture shows the PCB sitting in the new cut, where the case supports will go. Later I trimmed off the excess height you can see above the PCB.</p><p><a href="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/angle-groove.jpg"><img src="https://grayunicorn.com/images/2019-04-23-a1200-kbd-6/thumb-angle-groove.jpg" alt="Securely Mounted"/></a></p><p>While this works, obviously I need a 3D printer. It would have been much easier and much quicker to design something to the exact dimensions required and then print it. I spent hours thinking about how to safely route this thin extrusion, then more time measuring and setting up the router for the cut. I don't need the side supports to span any distance or to prevent any flex, just not collapse so printed ABS or similar would have been perfect.</p><p>Having done as much as I could with rev 1 I was reasonably happy. I did not expect to get everything right first time. Time for rev 2!</p><h2>The Changes:</h2><ul><li>The F-row and the main body are too close together. I don't know how that happened but after a careful measurement that is fixed. I printed the artwork on A4 paper, carefully stuck it together and then made a test fit board with the paper showing key position. The next board should be spot on.</li><li>The positioning of the FFC connector at the top of the board is too close to the edge, requiring cuts to a piece of angle aluminium if I am to use one for stiffness at the top of the board. Moving it down between the F-row and the main body of keys will fix that and might even make it easier to route.</li><li>A large rectangular route is added so the existing LED PCB will fit as it did in the original keyboard.</li><li>reduce the size of the board to allow for the aluminium angle so there should be no need to shave off the edge of the rev 2 PCB with the router.</li><li>Added holes around the board to attach the mounting rails and the top brace/bottom piece.</li><li>Added a 9U space bar on top of the 7U space bar so if one becomes available it will fit in just by moving the stabilizers.</li><li>Changed to blue MX switches, they will sound great here and it's not like I will be using this keyboard in an office where people will complain.</li><li>Changed to a black PCB finish.</li></ul><p>Electrically these are no change. I re-routed the board with the changes above and came up with something very much like the first PCB, only with more vias. As mentioned I concentrated on making tracks on one side run vertically and tracks on the other side run horizontally. It's nice to do a two-layer board with no vias at all but getting rid of the last one might cost you hours of rework - so when it costs no more it is worth it?</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-04-14-a1200-kbd-5</guid><title>Amiga 1200 Keyboard, part 5</title><description>Routing - Printed Circuit Board</description><link>https://grayunicorn.com/posts/2019-04-14-a1200-kbd-5</link><pubDate>Sun, 14 Apr 2019 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 5</h1><h2>Making the PCB.</h2><p>One weekend morning I got up thinking it was time to get this done! Could I use an autorouter? It would be quick, and the first rev isn't going to be perfect. Plenty of time for making a pretty hand route later as there would be things to fix, surely?</p><p>But no. KiCAD and autorouters don't really mix any more. Once upon a time the ability to use an autorouter was in KiCAD although the routing code itself wasn't; the idea being that you install a .JAR file containing the autorouter code, export a Specctra Design (.DSN) file from KiCAD, click the menu item and the routed PCB is done. There are a few web sites about it from a few years ago. In the end it didn't work for me and I wasted a couple of hours I could have used routing the board. The stories of success are just a little too old and too many small details have changed.</p><p><a href="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/placement.jpg"><img src="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/thumb-placement.jpg" alt="Placing Footprints"/></a></p><p>Using the fantastic MX footprints included in the KiCAD library from <a href="https://github.com/ai03-2725/MX_Alps_Hybrid.pretty">ai03-2725</a> made placing the switches in the right place easy. One box is placed next to another - 'E' key next to 'W' key and so on. Soon all the keys are in place, according to my measured offsets (see last article).</p><p>Before geting started you set up the basic board parameters and design rules. I need to pass traces through between the pins of the FFC connector, so my smallest trace needs to be 0.35mm. The PCB maker has a question when placing an order and it looks like things begin to get more expensive when a hole is less than 0.60mm - so I'll use 0.60.</p><p><a href="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/ratsnest.jpg"><img src="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/thumb-ratsnest.jpg" alt="Rat's Nest"/></a></p><p>Routing a board in KiCAD is a lot like every other PCB package I have used. It starts with a rats nest display, which really doesn't tell you anything except that nothing is connected, so you hide it. Select the layer on which you want to place a track. Click on one point to connect and the line will drag out, interactively routing itself around things it can't be connected to. If you try and put the trace between two pins that are too close together it just won't go there, instead it will route itself all over the board in an effort to get there. The end result is that you end up with a circuit with no design rule violations. I have used a system that could highlight the places tracks got too close, but you could still make the mistake and violate your own rules. I have also used a system with no checking and it's only when you get the PCB back you find the wrong things are connected. Overall, the KiCAD interactive router is good.</p><p>For rev 1 of the board I tried to use no vias with two layers - not because it matters but because when making a PCB years ago I was told vias make the board more expensive. In the end I think there are threein total, so not bad. <strong>But</strong> this is a little like writing code in 2019 and using lookup tables and integer approximations for trigonometry, because sinf() is so slow! In fact sinf() is fast now, faster than your lookup table, and in same way the number of vias no longer matters. Don't waste your time.</p><p><a href="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/perpendicular.jpg"><img src="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/thumb-perpendicular.jpg" alt="Rat's Nest"/></a></p><p>What you should do is use vias wherever you need them. Above I said "two layers", meaning there are copper tracks on the front and the back of the PCB. Between those layers the holes that the component pins go through are plated through, so both sides are electrically connected. So a trace can come up to a pin on the front of the board, and another trace can go away from that pin on the rear of the board and they will be electrically connected. If you want a trace to switch sides without going to a pin first, you use a via which is really just a through hole that no component will go in.</p><p>When routing it is a good idea to keep your options open. No sooner do you make a trace hug close to the existing routing to keep plenty of space on one side then you find you need space on the side you took it all away from. Also you need to be able to move long distances without thinking too hard and as the board gets more crowded it can be impossible. If you try to make all your connections more or less direct then soon you have created a maze that can't be solved. My solution to this is to make one layer (top) run mostly east-west, and the other layer (bottom) run north-south. If the trace has to change direction, use a via rather than allowing a trace on one layer to fence in other connections. This problem gets dramatically worse once many connections have been made.</p><p>Once done - and you're sure it's right - it's time to submit the job to the manufacturer. You don't "export" this, you "plot" it. In the olden days that's how they used to do it (I have read) and all the PCB software still calls it "plot", and you make "gerbers" - not baby food, not legendary blades, but the <a href="https://en.wikipedia.org/wiki/Gerber_format">RS-274X file format</a>. These describe the layers that need to be made with various processes to make your board. There is the copper (both sides), the mask (the paint-like stuff that covers all the copper that should not be exposed), the board outline (where the board will be cut out) and the silk screen. This last one is not essential but very useful for including information on the board like where to place components.</p><p>The service I am using is called OurPCB. It looks easy - there is a list of things to choose, like the weight of the substrate material, copper thickness, the board size, how many you want made, how fast, and many other things. Then it tells you how much this will cost. It's real money alright but nothing like as expensive as this used to be.</p><p>About 20 minutes after submitting the order I got an email back saying that one of my files (solder mask) was missing. I submitted that and all was well. Great service! <a href="https://www.ourpcb.com.au">OurPCB</a> is highly recommended.</p><p><a href="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/keyboard-pcb.jpg"><img src="https://grayunicorn.com/images/2019-04-14-a1200-kbd-5/thumb-keyboard-pcb.jpg" alt="It's real!"/></a></p><p>About 8 days later, right on time, I got a delivery at work - PCBs. The next article will be all about adding components and making it fit into the computer.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-04-04-a1200-kbd-4</guid><title>Amiga 1200 Keyboard, part 4</title><description>Decisions - Printed Circuit Board</description><link>https://grayunicorn.com/posts/2019-04-04-a1200-kbd-4</link><pubDate>Thu, 4 Apr 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 4</h1><h2>Keyboard considerations.</h2><p>(This isn't a cooking show but you're going to see pictures of a rev 1 keyboard PCB here to illustrate some of the things I want to talk about. So <em>here's one I prepared earlier</em>.)<br><br>Although this is the fourth step it was always the gateway part of the project. The cost and difficulty of making a PCB has come down dramatically, largely due to Chinese manufacturing with local presence. How much would you expect a two-layer PCB of around .06m² to cost? Around $40, shipped in a week, in one-off quantities and that only gets cheaper if you scale up.</p><p>Around the time I was ready to make the PCB I discovered I'm not the only one. A Canadian that goes by Kipper2K on various Amiga forums is <a href="http://eab.abime.net/showthread.php?t=94643">doing one too</a>. He has a record of good Amiga projects and this one is no exception, it looks great. It will be compatible with more models than just the A1200, it will come with custom MX keycaps that are the right size and it's a two-board design (base and place PCBs). Price will be around $200. Any thought I had of doing a kickstarter with my keyboard evaporated when I saw this on the way - if you're after an Amiga mechanical keyboard, and you should be, jump on it. I hope I can get a set of his MX-compatible keycaps!</p><h2>Connectors</h2><p>A big concerns was how to connect a new PCB to the Amiga. The original connects via a 31-way FFC ribbon with a 1.25mm contact pitch. Searching on all the big electronics sellers I did not find any of these and for a while considered modifying the Amiga to use a more available connector. But Dave Curran of <a href="http://www.tynemouthsoftware.co.uk">Tynemouth Software</a> gave me a tip - he uses a 32-way socket in one of his products and just aligns the 31-way ribbon to the correct edge, just as the Amiga 1200 uses ROM sockets that are one row too long. All I would need to do is find a right-angle 32-way FFC socket and FFC cables and problem solved.</p><p><a href="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/trimmed-ribbon.jpg"><img src="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/thumb-trimmed-ribbon.jpg" alt="Trimmed ribbon in Amiga ZIF socket drawing"/></a></p><p>Fortunately there was stock at Mouser. One style of 32-way cable is available, 15cm long, contacts on opposite sides. I bought samples and carefully snipped off one connector and found it fit in the Amiga keyboard connector as well as the original. There is also a right angle connector available though not ZIF - which is OK because this end of the cable can be left in once inserted. However the contacts opposite sides thing means the connector has to mount on the back of the PCB - but that then turns the pin order around so that the order is left to right just as I had drawn it. Apart from the cable being 5cm longer than ideal this couldn't have worked out better!</p><p><a href="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/keyboard-connector.jpg"><img src="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/thumb-keyboard-connector.jpg" alt="Connector ready to join the board drawing"/></a></p><h2>Switch placement</h2><p>While I anticipated spending a lot more time getting every individual key in position I only had to measure a few offsets. The fantastic keyboard symbol library from <a href="https://github.com/ai03-2725/MX_Alps_Hybrid.pretty">ai03-2725</a> shows key outline. Once one key in a group is placed accurately all the adjacent keys can be placed just like LEGO. A quick laser print of the overlay layer showed that all the keys lined up with the holes in the top cover with only one reference point measured per group.</p><p><a href="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/key-group-offsets.jpg"><img src="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/thumb-key-group-offsets.jpg" alt="Measuring up drawing"/></a></p><h2>Dealing with Amiga-sized keys</h2><p>Basically - I'm not, yet.</p><p>The most obvious problem is that the 9U (nine units of width, where a standard keycap like 'Q' is one) spacebar that Commodore loved so much is not really available. Signature Plastics sell a 9U spacebar in SA profile but I don't really want SA here, it's not a C=64. For now I will use 7U with a 1U space on each side, it will be a little like the IBM Model M with a gap either side of the bar. PCB will be visible in this gap. Oh well. In future I may use a double footprint for the spacebar where the switch is in the same place but the stabilizers are in both 7U and 9U positions. Then either can be loaded depending on what spacebar is available.</p><p>Next problem is the 1.25U F-keys. The Amiga has only 10 and so used wider keycaps to space them out better along the top of the keyboard. Initially I will use 1U F-keys because i have them and because it's not much of a gap. An easy fix will be to get some 1.25U blank keycaps. These will fill the spaces and having no legends won't bother me at all on those keys.</p><p>Finally the odd-sized modifiers, like "Amiga" and long Shift - fortunately all these are available if not common. I bought a very full set from AliExpress with about 140 caps in it and I will be able to populate the board fully if not perfectly. There are no keys with "Amiga" legends of course.</p><p><a href="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/cheap-keycaps.jpg"><img src="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/thumb-cheap-keycaps.jpg" alt="Economical keys"/></a></p><p>The real fix for all these issues is to hope I can get my hands on a custom set produced by Kipper2K.</p><h2>Substrate</h2><p>The original keyboard has a metal plate supporting the plastic assembly on which springs and sliders move to operate the membrane contacts. It's stiff. I thought about reusing this plate but that would not work for a few reasons. With a PCB and MX switches on top the keyboard would be too high. I would also have to modify an original keyboard and those are a bit scarce.</p><p><a href="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/key-height.jpg"><img src="https://grayunicorn.com/images/2019-04-04-a1200-kbd-4/thumb-key-height.jpg" alt="Economical keys"/></a></p><p>2mm fibreglass is available from the PCB manufacturer - is it stiff enough to span 420mm and support 90 keys? Almost certainly not, but 150mm would be stiff enough in height. If I was to support the top and bottom edge of the board with aluminium angle it should be OK - this is one of those things where you have to wait and see. I couldn't get a big sheet of FR4 to experiment, not even from the PCB manufacturer, they have nothing local - if you want anything it gets ordered from China. Getting a full run of first revision PCBs made cost about the same as buying blank sheets!</p><h2>Color</h2><p>I'm using a translucent Amiga case so color is important. I like blue, with yellow silk screen on top.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-04-01-a1200-kbd-3</guid><title>Amiga 1200 Keyboard, part 3</title><description>Schematic design</description><link>https://grayunicorn.com/posts/2019-04-01-a1200-kbd-3</link><pubDate>Mon, 1 Apr 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 3</h1><h2>Drawing the schematic.</h2><p>In the last part the circuit was derived by tracing the membrane in the original A1200 keyboard. This time that circuit is going to be turned into a schematic drawing, with the output being a netlist - simply, a list of pins connected to parts (keyswitches, LED, connector) that are connected together.</p><p>Because it makes for nice organisation they keys in the schematic go in roughly the same place they would be on a real keyboard. Compared to making a PCB schematic is not hard at all - wires can cross and go pretty much anywhere as long as you can keep track of them. Unless you see a big green dot you don't have a connection. Obviously you don't want to make something you can't read so keeping it neat is a good idea.</p><p><a href="https://grayunicorn.com/images/2019-04-01-a1200-kbd-3/schematic.jpg"><img src="https://grayunicorn.com/images/2019-04-01-a1200-kbd-3/thumb-schematic.jpg" alt="Part of schematic drawing"/></a></p><p>Looking at the circuit you can see that it is a matrix. The keys, with two terminals each, could be directly connected to the controller, for around 200 connections from keyboard to controller. Or like a joystick they could all use one common connection and then there would only be 100 wires or so, one from each switch plus one common. But better still is to use a matrix where a key is defined by two connections, and when those connections are bridged the controller derives a unique key. The minimum you would need is rows + columns connections - so in a really simple keyboard like this standalone numpad:</p><img src="https://grayunicorn.com/images/2019-04-01-a1200-kbd-3/numpad.jpg" alt="GoldTouch numpad"/><p>The minimum would be only 10 connections from matrix to controller because there are 4 column and 6 rows. All this minimisation is good because connections cost time and money. The Amiga however has a special set of keys with their own connections not shared with the regular matrix. These are keys like CTRL, L-AMIGA etc - the ones that can't be blocked by another key. Ignoring the connections to the LED that lights when CAPSLOCK is pressed it uses 29 connections to the controller chip, via the ribbon cable that emerges from the top of the membrane.</p><p>I could write a whole article about the keyboard matrix and try to make it good, but it's been done really well already - please take a look at <a href="http://blog.komar.be/how-to-make-a-keyboard-the-matrix/">komar's tech blog</a>.</p><p>Because I just want to make a replacement keyboard I am not using diodes or changing the layout in any way from the original. The circuit is exactly the same right down to the flipped row/column connections on some of the keys like F6. I do not think that making all this completely regular could have had an effect, as these are just passive switches, but I'm not changing it. The keyboard should be better with mechanical switches, but it should not be electrically different - bugs and all.</p><p>When the schematic is done the output is a netlist. This is just a text file that defines what's in the circuit and how the things are connected. The first part describes the components. Here are two entries (and part of a third) describing the switches:</p><pre><code>  (components
    (comp (ref K2)
      (value F1)
      (footprint MX_Alps_Hybrid:MXOnly-1.25U-NoLED)
      (libsource (lib MX_Alps_Hybrids) (part MX-1.25U) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5C7001B7))
    (comp (ref K3)
      (value F2)
      (footprint MX_Alps_Hybrid:MXOnly-1.25U-NoLED)
      (libsource (lib MX_Alps_Hybrids) (part MX-1.25U) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 5C70020E))
    (comp (ref K4)
      (value F3)
      (footprint MX_Alps_Hybrid:MXOnly-1.25U-NoLED)
      (libsource (lib MX_Alps_Hybrids) (part MX-1.25U) (description ""))
</code></pre><p>I'm using the excellent library by github user <a href="https://github.com/ai03-2725/MX_Alps_Hybrid.pretty">ai03-2725</a> - highly recommended. I don't love the schematic symbols, because all of the keys have a diode which when unconnected causes KiCAD to complain when transferring to PC. But the PCB footprints are excellent!</p><p>Late in the netlist comes the description of the nets themselves - here's one of them:</p><pre><code>    (net (code 198) (name /18)
      (node (ref K36) (pin 1))
      (node (ref K55) (pin 1))
      (node (ref K3) (pin 1))
      (node (ref J1) (pin 18))
      (node (ref K74) (pin 1))
      (node (ref K15) (pin 1))
      (node (ref K68) (pin 1)))
</code></pre><p>This means that there is a net named "18", joining the pins of the components listed. I named is "18" because it matches pin 18 of the connector. And it's as simple as that. If you look at the netlist file you can manually check that all of the nets are connected the way you wanted them. This is a good idea because though it is not an exciting job it's a lot better than soldering bits of wire on your new PCB correcting in hardware the errors you should have fixed on paper.</p><p>Next time - making the PCB.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-03-23-a1200-kbd-2</guid><title>Amiga 1200 Keyboard, part 2</title><description>Mapping the keyboard.</description><link>https://grayunicorn.com/posts/2019-03-23-a1200-kbd-2</link><pubDate>Sat, 23 Mar 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 2</h1><h2>Deriving the circuit.</h2><p>Lots of people make keyboards these days. It's not even a big thing; once you know your circuit you get a board made, buy switches, use an open-source controller to send USB HID keystrokes and you're done. So why not? I decided to dive right in.</p><p>First up, what software to use? In the past I have used Protel/Altium for various things; one thing I used it for a long time ago was the Mac mini drive adapter. Designed to connect a 3.5" hard drive to the original G4 Mac mini where it expected a 2.5" hard drive, it was pretty successful.</p><p><a href="https://grayunicorn.com/images/2019-03-23-a1200-kbd-2/mini-drive-adapter.jpg"><img src="https://grayunicorn.com/images/2019-03-23-a1200-kbd-2/thumb-mini-drive-adapter.jpg" alt="My Mac mini drive adapter"/></a></p><p>This was a big deal at the time because 2.5" drives were not only usually slower, they were usually a lot smaller - and a lot more expensive. Existing adapters could connect a drive physically but would reverse the pins. Amusingly I once connected a 2.5" hard drive in reverse and a piece of silicon detached itself from the drive PCB with a loud bang and a smoke trail. Don't do that.</p><p>Anyway, off to KiCAD. Things aren't as polished as you might wish - for example the Mac version I started with used white text on a light gray background - but it works really well. So probably I won't bother looking at the commercial solutions again, for the kind of work I do KiCAD is plenty.</p><p>To the schematic! How to design an Amiga keyboard? Well it's a membrane, and it connect to the mainboard by a flexible cable. There's no circuitry on the board, only a LED. So maybe I should make just a passive matrix and get it connected so that it looks just like the original, make a simple Amiga 1200 replacement? Which would mean extracting the circuit for the original keyboard. So I took the membrane out, pictured in the previous update.</p><p>The guy that made this membrane had fairly primitive CAD compared to today. Maybe it was even done by applying opaque tape to a transparency to produce artwork at double or even higher magnification, then reduced down to actual size? Anyway considering that I didn't feel too bad about deriving the circuit by tracing even if it had me dreaming of parallel lines. A light table would have been nice but a white piece of paper behind on a sunny day was enough.</p><p><a href="https://grayunicorn.com/images/2019-03-23-a1200-kbd-2/membrane-traced.jpg"><img src="https://grayunicorn.com/images/2019-03-23-a1200-kbd-2/thumb-membrane-traced.jpg" alt="A1200 keyboard membrane traced out"/></a></p><p>Yes, there are documents that describe the keyboard circuit. However making a PCB is kind of a permanent thing, you want to be sure before you enter your credit card details. So I decided the ribbon connector that goes to the A1200 mainboard would be numbered arbitrarily from left to right, giving pins 1 to 31. Each pin would connect from 1 to n other places. By writing a number in a box on this diagram I made I would come up with a map of connections of every key (and LED) in the matrix.</p><p><a href="https://grayunicorn.com/images/2019-03-23-a1200-kbd-2/key_map.jpg"><img src="https://grayunicorn.com/images/2019-03-23-a1200-kbd-2/thumb-key_map.jpg" alt="The key connection map"/></a></p><p>And that's the whole circuit.</p><p>A long time ago a grumpy old electrical engineer told me Protel for Windows was worthless because it didn't use netlists. I'm not sure how right he was, but I believe in netlists. By writing down just what lines are connected to what key contacts you get a netlist - a list of pins that must be electrically connected together. From there it's just a matter of entering this information into KiCAD, and making sure that when you extract a netlist from the schematic you have drawn, it describes the same electrical connections. Going through the netlist net by net ensures that everything is as you want it to be, not missing a connection because you were one pixel off here or there when drawing lines in the schematic editor.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-03-10-a1200-kbd-1</guid><title>Amiga 1200 Keyboard, part 1</title><description>New keyboard?</description><link>https://grayunicorn.com/posts/2019-03-10-a1200-kbd-1</link><pubDate>Sun, 10 Mar 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 1200 Keyboard, part 1</h1><h2>This thing is just mush. And it's dirty, and yellowed.</h2><p><a href="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/a1200-original.jpg"><img src="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/thumb-a1200-original.jpg" alt="Original A1200 Keyboard"/></a></p><p>With computers a thing I have always cared about is keyboards. Just like with audio equipment where the speakers matter because they are your direct link to the sound, the keyboard is your direct link to the machine. I started in computers playing Infocom text adventures on an IBM 5170 with a Model M. I bought keyboards from DEC, pre-merger, because they just felt good. I’ve had all manner of mechanical keyswitch boards and these days I love Topre 87UW55, one lives at work and I'm using another now at home. (It's a shame the fantastic SA and DSA profile keycaps can’t be fitted to these boards, a spherical keyset might make these the ultimate.)</p><p><a href="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/keycap-profiles.jpg"><img src="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/thumb-keycap-profiles.jpg" alt="All the profiles"/></a></p><p>Cherry MX and compatible are by far the most popular switches available and in the last few years there has been an absolute explosion of new switch variants especially from Chinese manufacturers - who are going through what Japanese manufacturing went through and after producing a lot of absoluter crap are now offering some pretty good stuff. For what it’s worth I prefer tactile without click, brown or clear stem colors in the Cherry range. My original FILCO sold me on Cherry brown stem switches and I still think they are the best, barring Topre.</p><p><a href="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/cherry_key_switch_module_mx_brown_large.jpg"><img src="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/thumb-cherry_key_switch_module_mx_brown_large.jpg" alt="Single Keyswitch"/></a></p><p>But Amigas 1200s have a keyboard based on a membrane, a series of conductive pads bridged by a carbonized rubber foot attached to a key that is held off the pads by a spring. You press they key, the spring compresses, contact is made. Works OK; feels mushy. Some of the earlier Amigas had mechanical but later ones were built to a budget. Why not a mechanical in an A1200 though? Without an A1200 in my possession I wasn’t sure right away if this would be possible. But I did find out that the A1200 membranes are available for replacement, so obviously sometimes it’s required and disassembly is not beyond most people. A mechanical board should never need replacing. Membranes do.</p><p><a href="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/membrane.jpg"><img src="https://grayunicorn.com/images/2019-03-10-a1200-kbd-1/thumb-membrane.jpg" alt="A1200 Keyboard Membrane"/></a></p><p>Compared to modern boards the A1200 is only slightly weird. Pretty much nobody makes keys for the F row wider than 1U because there are usually at least twelve keys and they align with the top of backspace. Pretty much nobody makes a space bar 9U wide like Commodore used to. The only one I am aware of is a SA profile spacebar from Signature Plastics. It’s a reality then that any replacement Amiga keyboard with MX-compatible switches will have some gaps where the smaller modern keys don’t occupy the same space. A solution would be to use keycaps whose legends don’t exactly match and to live with gaps around the keyboard maybe? Should be possible. I could live with that. (But I’m wondering how much it could cost, getting a keyset maker to produce an Amiga MX set.)</p><p>Making a replacement keyboard for the A1200 is made easier by the simple passive matrix design. The membrane connects to the A1200 board by a simple ribbon with one conductor for each switch or LED connection, no electronics on the keyboard itself. To register a keypress you only have to bridge two of the 31 connectors on the ribbon cable. Of course this means keyboard ghosting is possible - press the right three keys and the system will see four - but if the aim is a true replacement I don’t see the need to do anything about that. Also I don't feel the need to improve the rollover. So the keyboard needs to connect to the same connector, and that means finding a source of 31-way FFC connectors and of ribbons to match. The advantage here is that the delicate part, the ribbon, is cheap and easily replaced.</p><p>But they're not available. Digikey, Mouser, Allied, Element14 and all the rest may have these things in the online catalog but they have no stock. So that's out. Looks like there will be some soldering involved. If I want to do a completely non-destructive keyboard replacement I could desolder the existing FFC connector. Then instead solder a 34-way header to the board, bending pins as required (and chopping off the last 3). Into that header would plug a standard 34-way cable assembly just like the floppy drive uses, connecting to a right-angle header on the PCB of my new keyboard. To enable using the original keyboard I could take the old FFC connector and connect that up to a header socket, so that when I want to use the original keyboard the adapter plugs into the socket and then the FFC ribbon goes into the original connector. Best of both worlds? Looking at the back of the A1200 PCB this certainly looks possible.</p><p>Thinking about cost I took a look at how the thing could be made. The large size of the PCB rules out using any hobbyist EDA package like the ones from Altium or Eagle, they will not do large boards without an expensive subscription. So KiCAD it must be, totally free, runs on almost every platform (not Amiga!) but some learning is required. I guess that the PCB could cost around $50, the switches should cost around $50. Maybe another $10 for the FFC connector and the cable. And a whole lot of soldering. This is looking quite possible!</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-04-16-topre-realforce-rgb</guid><title>Topre Realforce RGB</title><description>The best?</description><link>https://grayunicorn.com/posts/2019-04-16-topre-realforce-rgb</link><pubDate>Sun, 10 Mar 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Topre Realforce RGB</h1><h2>Taking the Topre obsession one step further</h2><p>Obviously, I like keyboards, and having tried out a lot of different MX switches and keycaps Topre was about the only direction left to go. Almost nobody has them in stock to try out and the closest you can come is probably watching YouTube demos - but at least if you don't like it the value doesn't drop much and they sell OK. But I loved the first one I bought A few weeks ago my standard was the 87UW55 - one at home and one in the office.</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/87UW55.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-87UW55.jpg" alt="Topre 87UW55"/></a></p><p>(The Amiga board is MX of course and I keep one 104-key CODE in the workshop but that's all.)</p><p>Then a guy in the office bought a Topre Realforce RGB which I had forgotten was available. And I decided I had to be able to use my Dolch DSA keycaps on a Topre. Worth it? Not really!</p><p>It's pretty, but I didn't really want RGB. All I wanted was the ability to use MX keycaps on a keyboard as good as my 87UW55. And out fo the box this is a pretty bad keyboard. It rattles terribly, just feels like a really cheap product from a market somewhere. Fortunately that can be fixed. What follows is how to open and make your Realforce RGB as good as a Topre should.</p><p>First up there is one screw to remove, under a tamperproof sticker. Goodbye warranty!</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/single-screw.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-single-screw.jpg" alt="Topre 87UW55"/></a></p><p>Opening up the case is a little tricky after that. You can see the clips at the back of the keyboard and they come out fairly easily with a pair of guitar picks inserted into the crack. Use just one and it will click itself back together again as soon as you move the pick.</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/guitar-pick-back.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-guitar-pick-back.jpg" alt="Topre 87UW55"/></a></p><p>The front is a bit harder since you can't see the clips and they were pretty tight on mine. But put the guitar picks in and open the gap while levering up and the clips will click apart.</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/guitar-pick-front.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-guitar-pick-front.jpg" alt="Topre 87UW55"/></a></p><p>With the case off you can carefully unplug the single USB connector from the back of the PCB and the two case halves are free. Here's the part where your keycaps plug in.</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/plate.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-plate.jpg" alt="Topre 87UW55"/></a></p><p>Here's the back - that's a lot of screws.</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/pcb-back.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-pcb-back.jpg" alt="Topre 87UW55"/></a></p><p>Like an old bit of Sony gear there are a bunch of black screws all with an arrow pointing to them. There are also a bunch of silver screws. Every screw needs to be removed and put somewhere safely. Once that is done you can carefully lift the metal plate directly up from the PCB and hopefully this does not happen...</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/sproing.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-sproing.jpg" alt="Topre 87UW55"/></a></p><p>If it does you get to see how the Topre switch works. The white disc in each key position on the PCB is solder mask under which are the electrical contacts. The spring provides negligible resistance, instead it acts to increase the capacitance detected across those contacts as the spring is depressed. A microprocessor detects that rising capacitance and turns it into a keycode sent as a USB HID device. The rubber dome provides the resistance you feel when you press a key. If you want to experiment with altering key weight on a Topre you need to swap rubber dones, not springs.</p><p>Having a few of the rubber domes or even one of the big units with multiple domes come off is not terrible. It's better if you manage to keep it all in the exact position because it's annoying to put back but often the rubber is not sticky enough to stay there. You will need some tweezers to reposition the springs and domes back on the PCB - way too delicate for fingers. Do that first so no dust gets under where the domes should be and put it aside. When everything else is done you can lower the plate carefully down on top of the PCB and then flip it over to put the screws back.</p><p>When the PCB is off the stems can be pushed out of the plate. Each clicks into an individual clear plastic housing. You might be able to push them far enough with a finger so that they drop out, or use a pencil. Either way do it so they fall on a cloth where you aren't going to lose them, they are light and will bounce. You probably cannot buy spares!</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/stems.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-stems.jpg" alt="Topre 87UW55"/></a></p><p>You can see the first part of the fix on the stems already - blue silicon rings. This is one kind of damper, another is a flat silicon ring. You can make dampers yourself if you have silicon sheet and two right-sized punches (and hours to waste) or you can buy flat dampers or silicon rings in various places. But be aware these are not the same as the red rings that go under Cherry MX caps. If you use those your keyboard will not work properly. I tried one and the keycap just doesn't return after being pressed down properly, also it feels like mush. With a dampening ring in place on top of each stem the stem cannot slap up against the top of its housing, with the sound of two bits of hard plastic rattling together. It's not pleasant.</p><p>The second part of the fix is lubrication. To do this right you need a very small applicator and you need to apply the right kind of grease in only the right place.</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/lubricating.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-lubricating.jpg" alt="Topre 87UW55"/></a> The red stick in the picture is something for watchmakers to apply grease with, I bought a set and they are useful. The grease is going into just the corners of the stem housings, where the "ears" slide up and down vertically. If you use too much it will dampen the action of the keys and feel bad. Just a tiny bit on each of two corners will do.</p><p>Do not put any on the ring or the stem - this will make the key feel sticky and depending on how much there is you could feel a slight stickiness as the key is pressed down and the stem unsticks itself from the housing to move down. This is the second time I have disassembled this keyboard, this time to wipe off the grease on the stems. It did make the keyboard quieter but overall it was a bad idea.</p><p>The grease I used is <a href="https://www.tamiyausa.com/shop/maintenance-supplies/cera-grease-hg/">Tamiya Cera-Gease</a>, made for lubricating plastic gears. There are lots of kinds that will work but whatever you try be sure it is safe with plastic. Also probably not a black messy grease like Tamiya Molybdenum. The nozzle is too thick for the tiny amount you want to apply so squirt some out on a piece of foil and apply it with a watchmaking tool, or whittle a wooden stick or use a toothpick. I don't know if the fancy grease talked about in some forums would be appreciably better, maybe, but too little is probably better than too much.</p><p>Here's the finished keyboard.</p><p><a href="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/dolch.jpg"><img src="https://grayunicorn.com/images/2019-04-16-topre-realforce-rgb/thumb-dolch.jpg" alt="Topre 87UW55"/></a></p><p>The caps are from <a href="https://pimpmykeyboard.com">Signature Plastics</a> and if you have ever bought any sets of eBay caps then you are in for a treat with these guys. Their space bars are straight, for one thing. They have OEM (regular cylindrical profile) as well as SA and these DSA keys. I love my Dolch set and I'm happy to be using them again. Right now you can buy them but they go in and out of production.</p><p>So out of the box prepare for disappointment. It's not an AUD$300 keyboard at all. And an identical model, called "R2" (but apparently no different) just got released in the USA at US$399! I just can't understand how they ship with such ugly keycaps, even the CODE keyboard had decent doubleshot backlit keys with a good font for under US$200.</p><p>However after this treatment I'm very happy with my new RGB and it sounds and feels as good as the 87UW55, possibly better. Now I'm wondering how good the 87WU55 would get if I did the same?</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2019-03-09-amiga1200</guid><title>Amiga 1200</title><description>GIVEN an Amiga 1200?</description><link>https://grayunicorn.com/posts/2019-03-09-amiga1200</link><pubDate>Sat, 9 Mar 2019 00:00:00 +1100</pubDate><content:encoded><![CDATA[<h1>Amiga 1200</h1><p>To be clear, I love old computers far beyond their actual practical worth. I love that you can take them apart like LEGO, clean them, put them back together and they work again. When you're the kind of person that just compulsively takes things apart it's addictive - imagine a pen that you can unscrew in front of you, of course you do it, right? Then imagine the pen is filthy from sitting in a storage space for 10 years of so and you have an air compressor and can blast that dust right out of there and make it like new again - even better.</p><p>So it is with old computers. The Amiga was my first real computer. In about 1987 I was in the wrong tertiary degree course for the wrong reasons. A friend bought an Amiga 1000 and once I saw it I suddenly realized this! I quit the degree immediately, primarily to work to make enough money to get that computer but also to get back to study because I knew that Computer Science was the degree I should have been in. I started with an Amiga 1000.</p><img src="https://grayunicorn.com/images/2019-03-09-amiga1200/amiga1000.jpg" alt="The Original."/><p>It took a couple of years of studying mathematics while working because I hadn't been a great student in conventional secondary school but pretty soon I was beginning a CS degree and I upgraded to the Amiga 2500 complete with 68020 and flicker fixer! And embarked on a four-year argument with various professors who would say "that's not compatible" - maybe that was half correct, but I got all my work done on it. (Worked fine to connect to the VAX.)</p><p>Years later I had a PCB made for a little project at PCBFast in Melbourne. Much later, 2018, I heard the owner is retiring and they are closing down - and would any former customers like a few old computers? I couldn't get there fast enough.</p><p>I picked up a couple of really nice Pentium II machines made by Intergraph, an old Dell and sundry monitors, bringing my collection to one 15", two 17" and two 19". No NOS 21" Trinitron as I had hoped for but oh well! Sadly I could not transport or find space for some of the industrial gear, like CNC drill machines, that were sold for scrap. Talking about this online someone local thought that if liked that old stuff maybe I would like an Amiga 1200 with various accessories that he thought might be in storage somewhere? HELL YEAH!</p><p>I never had an Amiga 1200 but my friend Pete did and it was pretty cool. Like my big box machine, more powerful but in half the space and 1/4 the price. We got a lot of gaming done, even a little work. Eventually, sadly, Commodore died and I got a 486 and never had another Amiga. I did finish the degree and things went well. Started in embedded C, then C++, then mobile - now Android and iOS.</p><p><a href="https://grayunicorn.com/images/2019-03-09-amiga1200/old-box.jpg"><img src="https://grayunicorn.com/images/2019-03-09-amiga1200/thumb-old-box.jpg" alt="How old did you say this was?"/></a></p><p><a href="https://grayunicorn.com/images/2019-03-09-amiga1200/originals.jpg"><img src="https://grayunicorn.com/images/2019-03-09-amiga1200/thumb-originals.jpg" alt="Old stuff"/></a></p><p>So I got the Amiga, and it did not disappoint. Covered in dust and a little mouse poo the box showed promise, probably repairable if not actually working. I kind of expected years of neglect to have made all the capacitors leak and the board to be too far gone for anything to work at all but it did! After a complete board clean with cotton buds and isopropyl alcohol and a replacement of all electrolytic capacitors it booted, asking me for a Workbench. Which I didn't have - the included original disk folder had a corrupt workbench disk! Oh well, the Install disk boots and a couple of the games I have tried seem to boot also.</p><p><a href="https://grayunicorn.com/images/2019-03-09-amiga1200/68030.jpg"><img src="https://grayunicorn.com/images/2019-03-09-amiga1200/thumb-68030.jpg" alt="OMG A 68030!"/></a></p><p>I was really excited about this thing, perhaps irrationally so. A few years ago A1200.net ran a kickstarter for an Amiga 1200 case replacement. I bought one (transparent!) before I even got my computer.</p><p><a href="https://grayunicorn.com/images/2019-03-09-amiga1200/new-case.jpg"><img src="https://grayunicorn.com/images/2019-03-09-amiga1200/thumb-new-case.jpg" alt="So 90's"/></a></p><p>I also picked up the awesome <a href="https://github.com/ChuckyGang/DiagROM">DiagROM</a> images, and a <a href="https://gglabs.us">GGLabs</a> A1200 ROM set, and the adapter to burn new ones if I need to. All I can do right now is boot to DiagROM - everything tests fine. I started looking for an Indivision AGA MK2 because I was convinced it was the only way to get good video out of my new machine, remembering the scarcity of 15kHz monitors back in the day - NEC 3D anyone? But there are a couple of Dell U2711 panels at work that nobody seems to be using, wonder if I can buy then a new 27" and bring one home - they are reputed to work beautifully with an Amiga with only a 23-pin to VGA video adapter.</p><p><a href="https://grayunicorn.com/images/2019-03-09-amiga1200/disks.jpg"><img src="https://grayunicorn.com/images/2019-03-09-amiga1200/thumb-disks.jpg" alt="I bet disk 3 of everything is broken..."/></a></p><p>Though there is a big box of disks I don't expect too many to work. The hard drive included was a definite NOPE! I picked up a 4GB flash module that sits right on the header for not too much. Right now I'm waiting for the Hyperion 3.1.4 Kickstart/Workbench set to arrive. And I'm thinking about the keyboard. I love mechanical keyboards. Having an Amiga that can play <a href="http://nethack.org">Nethack</a> and Infocom text adventures on its own mechanical keyboard would be pretty cool. I'm far from the first to think about replacing the original KB with a mechanical but maybe I'll just go and build one.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2016-04-18-train-table</guid><title>Train Table</title><description>Ready to use</description><link>https://grayunicorn.com/posts/2016-04-18-train-table</link><pubDate>Mon, 18 Apr 2016 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Train Table</h1><img src="https://grayunicorn.com/images/2016-04-18-train-table/looks-useful.jpg" alt="Hmmm"/><p>Out with the dog we walked past a council rubbish collection and someone had put out a table tennis table! I gave in, pushed it home on the handy wheels and the kids played about three games of table tennis, then forgot about it. No good to use as intended, water damaged surface.</p><p>Months later in Sydney we found <a href="https://hobbyco.com.au">HobbyCo</a> in the amazing <a href="https://en.wikipedia.org/wiki/Queen_Victoria_Building">Queen Victoria Building</a>. I've been thinking about model trains for years, since seeing one of these...</p><iframe width="740" height="570" src="https://www.youtube.com/embed/B1uGwZXk7IE" frameborder="0" allowfullscreen></iframe><p>(That was on a trip to the <a href="https://en.wikipedia.org/wiki/Victorian_Goldfields_Railway">Goldfields Railway</a>, in a little shop in Maldon, Victoria. Is it a good thing I didn't buy that one or not? By all accounts they had their problems and are now discontinued but I expect they will be a real collector's item one day.)</p><p>So I looked at all the trains, $800 for a big set and decided it was far too much money... but then I found them for around half the price from <a href="http://www.hattons.co.uk">Hatton's</a>.</p><p>And a week later had a <a href="https://www.hornby.com/uk-en/somerset-belle-digital-train-set.html">Hornby R1125 Somerset Belle Set</a> and plenty of expansion track. It was hard choosing which set to start with but it came down to wanting DCC but definitely not wanting eLink. I don't know who would want to have to open a computer to make a model train run, and eLink is Windows only. That ruled out the "The Majestic" and "Western Master" sets, and Hatton's had the "Somerset Belle" at a big discount. I don't have an era or theme to follow and if I ever do there will still be a need for a loco anyone can play with, so the packaged train didn't matter much.</p><p>So it was obvious what to do with the disused table. Except that it's just a little too narrow for the Hornby TrakMat, so I set about using the better of the two surfaces to extend the first. We don't have a heap of room so having it tip up and store vertically will be very useful. A shame to wreck a good table? Not this one. It was thrown out in the first place because the MDF is in very bad condition, pulling away from the mounting screws on one side and bubbling up with water damage on the top.</p><img src="https://grayunicorn.com/images/2016-04-18-train-table/bubbles.jpg" alt="Unpredictable Bounce"/><img src="https://grayunicorn.com/images/2016-04-18-train-table/condition.jpg" alt="Wobbly too"/><p>The back of the table is braced with some rectangular section steel and plastic corner pieces. They came off easily and I was able to start cutting. I ripped along the edge of the large piece I wanted to use and then cut a piece from the waste side to make the width up to 1850mm - enough for the full trakmat and a little extra for whatever.</p><img src="https://grayunicorn.com/images/2016-04-18-train-table/added-piece.jpg" alt="Real Carpenterering"/><p>On the back the removed steel pieces made nice bracing for the new section, with short pieces of steel and corners finishing it up nicely. I joined them by making a redgum block to fit inside the steel section as a mating piece and driving a couple of screws in from either side.</p><img src="https://grayunicorn.com/images/2016-04-18-train-table/second-cross-bar.jpg" alt="Back Structure"/><p>Next up a quick pass with the big belt sander. The white blobs reveal where the sander has taken the top off water damage bubbles! While it's nowhere near really flat, it is better. Also I wanted to make sure the satin table finish was nicely scratched up so the new paint could stick to it.</p><img src="https://grayunicorn.com/images/2016-04-18-train-table/sanding.jpg" alt="Smooth"/><p>Finally a quick coat of ceiling white, and here it is with the TrakMat in place to see how it fits. For a quick job I'm happy, and I got it done before the rain.</p><img src="https://grayunicorn.com/images/2016-04-18-train-table/finished.jpg" alt="Done"/><p>When the paint dried I gave the back of the TrakMat a coat of 3M Photo Mount and went to roll it down. Here's where things went slightly wrong. I was happy with the <a href="https://www.amazon.com/Speedball-Deluxe-Soft-Rubber-Brayer/dp/B0017D3D2G">Speedball roller</a> at first but it is not well designed. The frame is very soft metal and any downward pressure means the arms spread and the pin holding the roller in pops right out. Looks like an ideal tool for removing air bubbles when block mounting - is actually no good at all if you want to push hard. Probably a narrower one would hold up better, as would the frame of the Hard Rubber Brayer, also made by Speedball - it uses a rod steel frame rather than flat bar so it probably wouldn't collapse under pressure.</p><p>Anyway the mat is now stuck down - ready to build a train set.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2016-04-13-minipulse</guid><title>Minipulse</title><description>Building a metal detector</description><link>https://grayunicorn.com/posts/2016-04-13-minipulse</link><pubDate>Wed, 13 Apr 2016 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Minipulse</h1><p>We met a guy in Beechworth travelling with his family while camping. He came over to borrow some tea and while talking mentioned that he did a bit of prospecting. "As in gold?" we asked, interested. Beechworth is part of Victoria's "golden triangle" and our campground was on a flat below a hillside full of old mining shafts. "Sure" he said, and pulled out a glass tube with at least an ounce of gold in small nuggets rattling around. I guessed it was worth about US$1600... And all you need to find it is a $5000 metal detector, or $10000 for a really good one. I was prepared to spend about $200 for a new camping toy and so this project was started.</p><h2>The Kit</h2><p>Searching around I found several forums full of DIY detector builds - the <a href="https://www.geotech1.com/forums/forum.php">Geotech forum</a> is the one I spent most time on. There is an active community of builders and it didn't seem too hard. I settled on the Minipulse kit, from the <a href="https://diydetector.co.uk/store/index.php">DiyDetector</a> shop - reasonably priced at £34.00. It was delivered in around ten days. Here's what arrived.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Parts/as-arrived.jpg" alt="Big Bag"/><p>Right away I worried about the ICs - all rattling around in one bag, surely the pins would be bent? At the very least I'd be buying new sockets.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Parts/pcb-front.jpg" alt="PCB Front"/><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Parts/pcb-rear.jpg" alt="PCB Rear"/><p>The PCB is a quality item. Holes plated through, flowed ground plane, heavy fibreglass substrate.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Parts/everything.jpg" alt="Neat makes things work."/><p>And here are all the parts in a bit more order. I was going to separate them into small containers by construction step (there are 9 steps) but I found it just as easy to take them from this mat as each step was complete.</p><p>The electrolytics are decidedly cheap, nasty-looking things - brand names like "Forever" and "Suntan". I'm not looking for audiophile stuff like Black Gate or Cerafine but I have replaced too many bulging, leaky electrolytics in the past ten years. Anyway I used them. That's about the only complaint I have about the parts. You can see from the individually labelled resistors that silverdog has gone to a lot of trouble to make this as easy as possible to put together right.</p><p>The <a href="http://silverdog.co.uk/shop2/library/minipulserevd.pdf">instruction manual</a> is available before you buy the kit so you can see what you'll be building. The manual stresses that you should follow the build steps in order and perform the tests at the end of each step. This post describes following those steps and shows the result of each test.</p><p>I have one very tiny criticism (in steps 7 and 8) but otherwise it's very, very good. Up front I'll say this is a great kit. Buy with confidence.</p><h2>Step 1</h2><p>The first step is an easy one, getting a 5V supply using a 79L05. I confused myself by looking for a TO220 package before realising it was a TO-92. That done, an easy step.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step1/negative-supply.jpg" alt="Negative Supply"/><h2>Step 2</h2><p>Another easy step! This thing will be done in no time. A 78L05 provides +5V.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step2/positive-supply.jpg" alt="Positive Supply"/><h2>Step 3</h2><p>Now starts the analogue stuff so I'm out of my comfort zone. I picked up a 470nF capacitor instead of the 47nF here, my only component mistake - I just don't do enough electronics to read "473J100" without having to stop and think. When that was fixed the test showed I was very close to the expected result - at least close enough to go on.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step3/tx-oscillator.jpg" alt="TX Oscillator"/><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step3/frequency-check.png" alt="Frequency Check"/><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step3/pulse-width.png" alt="Pulse Width"/><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step3/sync-check.png" alt="Sync Check"/><p>OK, something isn't exactly right. My pulse width appears to be ~45uS. I do have a higher supply voltage, 13.8V from a fixed supply intended to power a ham radio. I don't have an adjustable supply or any batteries to do an actual 12V supply. The frequency is OK, and it's in sync with the pulse from U2, so I think it's OK to go ahead.</p><p>The manual also suggests putting on headphones and listening for an induced noise when the coil is close. It works!</p><p><em>Update!</em> Forum user teleno reported that switching out the TLC555 chips supplied in the kit for NE555 chips brings the pulse to 58uS. Good thing everyone has ten or so NE555s in the junk box. (Mine must be around 30 years old!) I now see around 54uS and I'm a lot happier with that result. If the TLC555 45uS pulse is OK, the kit manual needs to be updated to say so.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step3/NE555-54us-pulse.png" alt="555?"/><h2>Step 4</h2><p>My coil inductance is 370uH, or at least to the degree that my very cheap <a href="https://www.amazon.com/MASTECH-Portable-Digital-Capacitance-Inductance/dp/B07J2F7F7L/ref=sr_1_1?dchild=1&keywords=Mastech+MY6243&qid=1589974588&sr=8-1">Mastech MY6243 LCR Digital Multimeter, Capacitance and Inductance Tester</a> can measure it. (I bought it just for this project - usually I only do digital electronics, never anything with a coil!) On this basis I did not adjust the damping resistor but I might later.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step4/flyback.png" alt="Flyback"/><p>That's a little high but once again I'm going with it and moving on.</p><h2>Step 5</h2><p>OK, now it's time to hook up the coil since I need to measure voltages changing as a metallic object comes close to it. There is no conventional coil connector supplied with the kit but I would like to be able to use a commercial coil maybe, so I bought the pair of connectors. I wasn't sure about how to wire it up but the manual makes it clear. Did I mention this is a great kit?</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step5/rx-preamp.jpg" alt="RX Preamp"/><iframe width="560" height="315" src="https://www.youtube.com/embed/5RBbKWjcuU4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>At this point some of the uneasiness from previous steps evaporated. Clearly something is working properly.</p><h2>Step 6</h2><p>This step includes the two 16-pin devices, whose sockets were the most mangled from being stuck in the plastic bag with all the rest. They straightened out OK though. It is a thoughtful step to include sockets even for the cheap chips like the 555, they are easily destroyed with clumsy soldering and a pain to desolder. With the socket you can get the pins (almost) as hot as you like and not worry about pausing between pins.</p><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step6/sample-pulse-generator.jpg" alt="Sample Pulse Generator"/><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step6/sample-pulse-delay.png" alt="Sample Pulse Delay"/><h2>Step 7</h2><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step7/sampling-integrator.jpg" alt="Sampling Integrator"/><p>The section parts list says it's time to use the TL062 op-amp, but a TL072 is supplied. For all intensive porpoises that's the same thing, and the full parts list makes that clear but maybe it could be mentioned in the section parts list also?</p><p>The test in this step is about the opposite of the one in step 5 - this time the voltage at the test point goes up rather than down as the metallic object nears the coil.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/rtZe5K30BCw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><h2>Step 8</h2><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step8/second-integrator.jpg" alt="Second Integrator"/><p>Just like in Step 7 the op-amp supplied is an equivalent, a TL071 instead of a TL061.</p><p>The test step here is a tricky adjustment to make on the oscilloscope, I would almost suggest doing it on the meter instead - the voltage you are watching dances around a bit and it is hard to get it at zero but it doesn't have to be exact.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/iBQYe9rkz7o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>I couldn't capture everything in this short clip so here's the explanation. The self-adjusting threshold causes the voltage at TP9 to adjust back to 0 in the absence of a moving target. The display here shows the voltage as a target (the big acetone can from previous clips) moves close to the coil, pauses and then moves away. All working!</p><h2>Step 9</h2><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step9/complete-board.jpg" alt="Complete Board"/><img src="https://grayunicorn.com/images/2016-04-13-minipulse/Step9/connected-board.jpg" alt="All Connected"/><p>Oh wow, that's a horrible sound from the included mini-speaker. I guess when the sound indicates that you've found something it's much more welcome. Anyway - it works! Obviously there is more tweaking to do and I need to go back and look at the scope, but that's a wrap. It detects metal.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/PliDJD09Wco" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><h2>Conclusion</h2><p>Building this kit is going to take around three hours at an absolute minimum and you should probably budget more like a whole day if you are not very experienced. I took around five hours in all, including winding the coil (and many more 3D printing a coil former, but that's another story). If you have only ever made LEDs flash with an Arduino this might be too much for you, but then again if you go slow and ask questions in the forum it can probably be done. Just be cautious and don't guess.</p><p>After building the whole thing I have one more complaint about the PCB - the holes for the resistors are often far too large. When you put the component into the holes and bend the leads a little they just rattle around. It looks like a uniform hole size was used for all of the resistors, a comfortable fit for the 2W units but less so for the 1/4W, which are the majority.</p><p>I'm pretty happy to have a metal detector, especially one so cheap! But there's still a long way to go before it can go in the car and find some gold. I need to do a lot of work putting it in a case and building the head cover, hand grip, making a battery system etc. More posts to come...</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2015-07-18-armada</guid><title>Armada by Ernest Cline</title><description>Haven't I read this before?</description><link>https://grayunicorn.com/posts/2015-07-18-armada</link><pubDate>Sat, 18 Jul 2015 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Armada by Ernest Cline</h1><p>In thinking about this post I thought of <a href="https://mikecanex.wordpress.com/2011/06/08/wwdc-1997-video-steve-jobs-handles-a-public-insult/">Steve Jobs at Apple WWDC in 1997</a> - I'm the relative nobody about to criticise the famous achiever. It is with great humility and disappointment that I say that I did not love <a href="https://www.goodreads.com/book/show/16278318-armada">Armada</a> Ernie's latest book.</p><p><a href="https://en.wikipedia.org/wiki/Ready_Player_One">Ready Player One</a> was incredible. I emailed friends about it and listened to the music and searched for the URL leading to the first gate. I liked it so much that I went and found a hardcover first edition, signed. It's on the shelf next to Patrick O'Brian and David Mitchell. Cline probably isn't quite as familiar with Homer, but for sheer enjoyment (and nostalgia) Ready Player One is right up there.</p><p>Armada isn't. I got through it in multiple short sessions on the train. But unlike RP1 I didn't sit down on the platform to finish chapters, I just closed it and went home. The barrage of cultural references I did not mind, they were expected - <a href="https://www.youtube.com/watch?v=I3fhKo6MCI4">Lloyd, Lloyd all null and void</a> is the only one I had to look up. I liked the book, I just felt flat about not liking it more.</p><h2>SPOILERS!</h2><p>So what's wrong with Armada? I always felt I knew what was going to happen. From the first mention of a missing father I expected him to turn up. Once he did turn up I expected him to nobly sacrifice himself for the cause. As soon as Last Starfighter was mentioned I knew the video game would become reality.</p><p>What was the point of the big buildup with "Zack Attack"? Was it background for Zack's disobeying the order to not follow the Glaive into the hangar? Also, what a very understanding Admiral he turned out to be.</p><p>Tethered drones, are you nuts? How would any kind of tether be expected to survive for any length of time in combat? The whole communications disruption mechanism was clumsy and this band-aid stuck out a mile.</p><p>And haven't we already been through this with OASIS? And Ender's Game? Even the lesson of War Games is in there - and it was telegraphed very early leaving the end to play out with nothing much left to say.</p><p>And everyone rocks out on the far side of the moon. Sorry but this is going too far. Cringeworthy in fact.</p><h3>Footnote</h3><p>Apparently the questioner at WWDC 1997 was <a href="http://www.quora.com/History-of-Apple-Inc/Whos-the-guy-that-insults-Steve-Jobs-in-this-clip-of-WWDC-1997?srid=iKUi&share=1">Robert Hamisch</a> - did he manage to insult Jobs, or hand him one of the greatest opportunities ever? I'm sure Ernest Cline has noticed some criticism of Armada and will respond with another great book.</p><p>I won't say don't buy Armada, it isn't the worst thing I have read this year by far. It's a good book. It just isn't what you might hope for.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2015-07-18-ipad-publishing</guid><title>Publishing from iPad</title><description>Getting a new belt-drive bike for gritty commuting</description><link>https://grayunicorn.com/posts/2015-07-18-ipad-publishing</link><pubDate>Sat, 18 Jul 2015 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Publishing from iPad</h1><p>I'm trying out a very serious iPad app named Editorial, and a workflow to publish direct to Jekyll on GitHub - does it work?</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2015-07-10-switching-to-githubio</guid><title>Changing to pages.github.io and Jekyll</title><description>Changing blog method</description><link>https://grayunicorn.com/posts/2015-07-10-switching-to-githubio</link><pubDate>Fri, 10 Jul 2015 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Changing to pages.github.io and Jekyll</h1><p>For a while I used <a href="https://laughingsquid.us">Laughing Squid</a> web hosting with <a href="https://wordpress.com">Wordpress</a>. I didn't like it. Nothing specific about Wordpress but it's perhaps a little full-featured for what I do. Which is occasionally write something and add some pictures. I don't need all it does.</p><p>I also don't need what Laughing Squid does. Even though $6 monthly is pretty good I don't need it when <a href="https://pages.github.com">pages.github.io</a> is free. Of course paid hosting has some advantages but I don't need those either.</p><p>The new workflow is editing markdown in <a href="http://www.barebones.com/products/bbedit/">BBEdit</a> while viewing the result in <a href="http://marked2app.com">Marked 2</a>. BBEdit can preview markdown of course but I just like Marked 2. When something is ready to publish it goes into the _posts directory in my <a href="https://github.com/aeberbach">github repo</a> and once pushed to origin it's published.</p><p>While I convert things to clean markdown there will be some period when old articles don't appear. Some articles, like the one about "Continuous Integration with Jenkins and Xcode" probably won't be converted. They have aged, and are no longer accurate even if it was a good idea to do that in 2015 (it probably isn't).</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2015-05-07-macminiexpansion</guid><title>Mac mini 2014 expansion</title><description>Add a drive to the 2014 Mac mini</description><link>https://grayunicorn.com/posts/2015-05-07-macminiexpansion</link><pubDate>Thu, 7 May 2015 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Mac mini 2014 expansion</h1><p>November 16, great excitement! New stuff from Apple, including a Mac mini - sadly not quite as I had hoped but good enough. Our old mini is a 2009 white top model, Intel, but definitely showing its age. A SSD helped but it wasn't really keeping up especially with kids in the house who leave Flash games running in the background.</p><p>The amount of anger about soldered RAM was fairly predictable. It's easier for a lot of people to believe that this is some kind of Apple plot to overcharge for RAM than it is to think about the actual cost of two SODIMM sockets in every machine, no matter how many people never upgrade - so that's what people did. I just bought the 16GB. Every mini I have owned has ended up with maxed RAM and storage and as I hope to get 5 years out of this one too I also upgraded to i7 3.0GHz - this is the machine that does the most video en/recoding.</p><p>HD5000 graphics is a huge bonus - many think integrated graphics is still at the level of GMA650, i.e. terrible. I spent the last year with a MacBook Air 11" with the same graphics and was able to play Diablo III, Starcraft II, L4D2, run various 3D CAD programs, no problems. So even though that isn't the main purpose of this machine it's nice to have it.</p><p>Storage was the final consideration. I thought a lot about the 1TB Fusion option but ultimately decided I would rather have a better SSD as boot drive with a much larger SATA drive as bulk storage. So I bought the 256GB PCIe-based Flash Storage option and expected to slot in a big SATA drive at my convenience, while using an external 3TB drive right away.</p><p>Then I decided to open it up and take a look. I needed my Torx T6 Security bit. There was some whining about this tool being rare or difficult to find, from various sources including iFixit, but it seems to have dried up now iFixit sell this tool. I've had mine (part of a set) for years.</p><p>The bad news is that the SATA cable is not included in minis fitted with only a PCIe drive. The PCIe SSD cable is not included with models containing only a SATA drive. The Fusion drive models will include both (but how useful is a 128GB SSD? Or 1TB SATA?) I think the PCIe model is the one to buy - I would have liked the 1TB SSD, but if money was unlimited I would be buying a Pro. Probably OWC and others will be offering these PCIe storage blades just as they did for the MacBook Airs.</p><p>I bought the <A HREF="https://www.ifixit.com/Store/Mac/Mac-Mini-Dual-Drive-Kit/IF171-005" target="_blank">iFixit Mac mini dual drive</A> (This kit does NOT include the <A HREF="https://www.ifixit.com/Store/Parts/TR6-Torx-Security-Screwdriver/IF145-225-2" target="_blank">iFixit Torx T6 Security driver</A> and set to installing a 2TB Samsung drive (ST2000LM003 HN-M201RAD) extracted from a Seagate Backup Plus Slim Portable Drive. In Australia at least it's cheaper to buy the complete external 2TB than a bare drive.</p><img src="https://grayunicorn.com/images/2014-05-07-macminiexpansion/open.jpg" alt="Partially Disassembled"/><p>This is the mini with the main assembly removed, power supply and drive carrier remaining. Here's how it looks before the SATA drive and cable are installed. You can see the PCIe cable ready to plug into the mini's main board but there's no SATA cable.<br><br><img src="https://grayunicorn.com/images/2014-05-07-macminiexpansion/grommets.jpg" alt="Grommets"/></p><p>The iFixit kit includes hex-head grub screws and a set of four grommets. These grommets are a neat fit for the grub screws and they should replace the four original Apple grommets which have a larger hole. With the drive in place it is easy to insert each of the grub screws and secure the drive. If you're too lazy to find a hex key for this, the T6 Torx bit fits just fine. Don't tension them too much if you do this or you will ruin the Torx bit.</p><img src="https://grayunicorn.com/images/2014-05-07-macminiexpansion/drive.jpg" alt="Drive Ready to Go"/><p>With the drive installed you can see the SATA connector ready to connect to the main assembly on the left, with the power supply connector in the middle and the PCIe connector at right.</p><p>Putting everything together you will notice that while the PCIe connector has a cover secured by two screws to hold it in place, the SATA connector does not. There is a screw hole to the side of it so probably if there is ever an Apple upgrade kit there will be a similar cover in it... It would be easy to make one but in my stock of screws stripped out of of MacBooks and the like I did not have one small enough, so I left it. A bit of Kapton tape would be an OK solution. Or if your mini doesn't get bumped around it shouldn't fall out anyway.</p><img src="https://grayunicorn.com/images/2014-05-07-macminiexpansion/results.png" alt="Final Results"/><p>Here's the result - some of the drive is used because I've started copying over the media library. The 3TB Seagate Desktop drive can stay as a backup for most of this stuff, but now can be moved over the the USB slot on the Airport to act as a remote bulk store. Job done! At least until 2TB PCIe SSD modules are cheap enough.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2014-05-07-nextmacmini</guid><title>The Next Mac mini</title><description>speculation</description><link>https://grayunicorn.com/posts/2014-05-07-nextmacmini</link><pubDate>Wed, 7 May 2014 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>The Next Mac mini</h1><p>I love the Mac mini. In 2005, after the WWDC keynote, I couldn't order one fast enough. When I opened one up and found it used a laptop-sized IDE connector, inspiration struck - I built a tiny PCB with a female 2.5" drive connector and a male 3.5" drive connector, allowing use of a cable to connect a full-sized drive (with its own power supply) for better speed and higher capcity. I made and sold hundreds of those little boards, it was my 15 minutes of internet fame.</p><p>Over the years I have had several minis. Early on there were two G4s, both with the larger drive modification. After the switch to Intel I've owned at least three or four. Most of my iOS programming has been on a mini. Right now the family still uses a late 2009 2.26GHz with maxed RAM and a OWC Data Doubler allowing an extra drive internally.</p><p>The little 2009 mini still chugs along. It gets a real workout from kids playing Flash games, serves music and video around the house and even gets used for Xcode sometimes. My main workhorse now is an 11" MacBook Air 6,1. The Air is almost perfect - surprisingly fast, and 8GB RAM hasn't been the compromise I thought it would be - but it isn't quite portable enough. When I bicycle to work I wish it was smaller because I rarely use the screen or keyboard, I plug it in to a monitor at both ends of the trip.</p><p>There is no question that this, the smallest of Apple's laptops, is far more capable than the 2009 mini and it's comparable in performance to a current mini - because the Mac mini has always been basically a headless laptop. In 2009 this was a performance problem since laptop performance lagged far behind desktops. These days, not so much.</p><p>So what could a new Mac mini look like?</p><img src="https://grayunicorn.com/images/2014-05-07-nextmacmini/hero_macpro.png" alt="Big Brother"/><p>...but smaller. Inside the Mac Pro is a central triangular heatsink extrusion around which the two GPU cards and CPU card are arranged. A mini only needs a single board containing a CPU with integrated graphics. Sometimes I want discrete graphics but the Air's HD Graphics 5000 graphics is adequate, I play Diablo III on it. It won't be good enough for Star Citizen or Day Z on a big screen but no mini ever has been. It will be the usual choice, Core i5 at the bottom end, Core i7 with more cores at the top. I don't think ARM is at all likely this iteration.</p><p>Overall size is probably dictated by the drive, assuming the mini doesn't get PCIe-based flash like the Pro. If it did, how small could it get? Probably smaller than industrial designers would consider ideal. With SSD the machine would need to be built around a cylinder capable of accepting 2.5" drives vertically. It could have a small door on the bottom allowing this drive to be replaced by the user, or the cylinder could lift off as it does on the Mac Pro to allowing access to memory modules. I'm not sure if soldered-on RAM is the future of Apple and it doesn't bother me much but I would like a next generation machine to have a 16GB RAM option.</p><p>Cooling would be just like the Mac Pro, an aluminium extrusion to which the hot components are thermally coupled. A fan of similar design to the Mac Pro's could cool the machine if necessary but with the opportunity for a bulky heatsink and adequate convection it would rarely activate.</p><p>So what connectors would you expect to find on the back? Two Thunderbolt connectors. Four USB, headphone/line out and microphone. And MagSafe.</p><p>Using MagSafe to power the mini would take a bulky component out of the machine. Thunderbolt Display users don't need a power supply since the display already has one - making the display an even more attractive accessory. Everyone else could use an adapter, just like laptop users do.</p><p>MagSafe can disconnect, that's true - in practise it doesn't unless you make it, and I don't believe it would be a problem in a situation where the mini sits on the desk and the cable is routed away from hands and feet. If it did get yanked I think I would rather have it disconnect and the Mac lose power than for it go go flying. But what if a small battery were included giving the mini built-in UPS functionality, just like a laptop? It could be just enough for the mini to safely suspend to disk.</p><p>Not Ethernet - I got over my distrust of WiFi and it is perfectly adequate for this kind of machine. If you must have Ethernet then buy the Thunderbolt adapter.</p><p>Not HDMI - minis aren't for driving TVs or projectors. For Apple TV and larger laptops it makes sense. If you need it buy the Thunderbolt adapter.</p><p>That's the mini I want, and what I hope is announced at WWDC. If they do I bet they put it in on-screen and let everyone assume they are seeing a Mac Pro before pulling back to reveal the Mac Pro sitting next to it.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2014-05-01-newson-spokes</guid><title>Mistake: Newson Sportec Products</title><description>There's poor quality, then there's this...</description><link>https://grayunicorn.com/posts/2014-05-01-newson-spokes</link><pubDate>Thu, 1 May 2014 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Mistake: Newson Sportec Products</h1><p>Ever wondered what it looks like when you use a spoke key on powder-coated spoke nipples? Well if the powder coating is very poor quality it looks just like this.<br><br><img src="https://grayunicorn.com/images/2014-05-01-newson-spokes/crapspokes.png" alt=""Designed by Satan in ROC""/></p><p>I bought these on eBay, they are Newson Sportec "powder coated" nipples. They are garbage. The eBay seller offered to take a return but am I really going to package them up and pay postage back to Taiwan for $17? No I am not and the seller is counting on that. Their solution to the spoke key removing the "powder coating" was to only drive them from the rear. I assume that means these spokes are only for machine building, of course they don't call that out on eBay.<br><br>This post is the extent of what I am prepared to do about that $17 - I hope I am saving someone else some time and money.<br><br>Incidentally this was the start of a wheelset for my <a href="http://www.somafab.com/archives/product/wolverine">Soma Wolverine</a>. The orange spokes would have been a nice match for the frame but anodised will probably look OK too, and the finish won't fall off as soon as they start being tensioned. Disc brakes, belt drive. Updates to come.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2012-09-27-dab-radio</guid><title>Digital Radio: DAB+ in the Van</title><description>Replacing the Multivan radio with a DAB+ unit</description><link>https://grayunicorn.com/posts/2012-09-27-dab-radio</link><pubDate>Thu, 27 Sep 2012 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Digital Radio: DAB+ in the Van</h1><p>About 6 years ago I bought a <a href="http://en.wikipedia.org/wiki/Volkswagen_Transporter_(T5">Volkswagen T5 Multivan</a>). It was a choice between that or a <a href="http://en.wikipedia.org/wiki/Mercedes-Benz_Vito">Mercedes Vito</a>. The Vito is great but was a fair bit more money. Or there was the hilariously ugly <a href="http://www.productreview.com.au/p/ssangyong-stavic-2005-present.html">SsangYong Stavic!</a>, but that’s no choice at all. Google for some amusing comments on this last abomination. (update - several other minivan choices became available about 6 months too late for us)<br><br>If you have to drive a van the VW is OK. I don’t have much to complain about, although I could mention the horrible turbo lag and general hugeness, but that’s balanced by the internal hugeness, convenience of sliding doors, being able to get to any seat from any door or the amazingly tight turning circle. The thing I seriously hated since day 1 was the sound system.<br><br>VW Australia installed some Eurovox 6-CD changer as original equipment but it had a fault, the display didn’t illuminate at all. So it went back to the dealer and was replaced or fixed, but in the process they broke a trim piece. On the next service that was “fixed” with glue but of course it didn’t hold up long, we lived with it. Who’s got time to keep taking a vehicle back to the dealer? The dealer knows this.<br><br>One issue it had was crackles and static on all but a few Melbourne FM stations. Another issue was the weird angle you have to insert a CD at for it to be loaded right. A third is that nobody ever remembers to bring new CDs so once out of radio range you’re listening to an album you used to like for the 41st time.<br><br>There are at least three iOS devices on the road on any family holiday so playing music from one of those seemed like a good idea. With no front AUX jack and no information on how to interface this Eurovox thing to an iPod any other way a FM transmitter was the only choice. But they barely work in metropolitan areas and will be overpowered by every regional station you get within 100km of – do not waste your money. I have had three different kinds and all worked equally badly.<br><br>Finally I decided to replace it, and AUX-input was priority number one. Mechless seemed like a good idea. Didn’t care much about Bluetooth or phone integration. Zero gauge wiring, subwoofers, mono block amps and hojillion farad capacitors interest me about as much as neon underbody lights. I did notice some models with <a href="http://en.wikipedia.org/wiki/Digital_Audio_Broadcasting">DAB+</a>. Sony, JVC and Kenwood have models available in Australia. I couldn’t find much information about them, probably because DAB+ is limited to a small selection of regions right now. I have a JVC in my other car and it’s OK. I used to be a huge Sony fan but got very tired of everything being incompatible or proprietary. In the end I bought a Kenwood KDC-U5049DAB. Got it online for way less than retail.</p><h2>Installation</h2><p>DAB+ works on a different frequency to AM or FM so a separate antenna is required. Job No. 1 is to install the DAB+ antenna, a stick-on conductive film that needs to mount close to a pillar so you can stick the signal amplifier unit onto the glass, contacting the antenna itself, and run the cable back to where the head unit is mounted. There are clear instructions included in the box.<br><br><img src="https://grayunicorn.com/images/2012-09-27-dab-radio/antenna.jpg" alt="Antenna"/></p><p>Sticking film onto glass is easy but getting it installed behind the neatly-fitting trim pieces looked like it was going to be the tough bit. I would rather change a head gasket than get upside down under a dashboard again so I wasn’t looking forward to this at all. But it wasn’t so bad…<br><br>The grab handle on the passenger side A-column has a clip-off cover exposing two T30 Torx bolts. When that is off the whole trim piece unclips with careful steady force. The glove box (mine doesn’t contain gloves either) is held in by eight T26 Torx bolts, five under black plastic covers. Lid and box remove as one unit, allowing the cable to be snaked through behind on the way through to the centre console. Getting it all back in place was easy too. The antenna and amplifier block are not very noticeable on the window, certainly not when you’re the driver. In a van this wide it is basically side-on and invisible from the right side.<br><br>Removing the original head unit was also easier than expected. The tray on top of the dash just lifts out from the window side once the clips let go, then the centre panel has two Torx screws to remove before it too lifts away. Detaching the wire from the driver’s seat heater control allowed it to all swing away for the duration. Then there were just two phillips head screws holding the head unit’s bracket in – one hole was stripped, thanks to the Volkswagen service department monkey who did that. With the physical restraints removed the whole unit came out revealing a harness adapting the Eurovox connector to <a href="http://en.wikipedia.org/wiki/Connectors_for_car_audio">ISO10487</a> – sweet!<br><br><img src="https://grayunicorn.com/images/2012-09-27-dab-radio/harness.jpg" alt="Harness"/></p><p>The only wart was a power connection made to the FM antenna signal amplifier. Or so I thought… I happily went off to Repco and bought the Kenwood to ISO adapter, pushed my luck by plugging it all together one hour before a family trip, but it was as easy as I had hoped. Until we set out and I discovered the thing had gone back to demo mode with no station memory – so no permanent power connection. Still, it worked.<br><br>Back home I pulled it out and did some comparing between the Kenwood and Eurovox harnesses – it was as simple as the permanent and switched 12V connections being swapped. Which is why you don’t do these things in a hurry. As convenient as off the shelf adapters are there's always a chance it is wrong, there are just too many variants out there. I didn’t have to cut any wires, just used a tiny screwdriver to release the spade connectors from the plastic housing and swapped them over.<br><br><img src="https://grayunicorn.com/images/2012-09-27-dab-radio/final-look.jpg" alt="How it Looks"/></p><p>The original unit was double DIN so I needed to fill up the space with a $15 Aerpro single DIN pocket. It’s got some rubbery mat from Bunnings in it to stop things sliding around.</p><h2>So what’s it like?</h2><p><strong>Aux:</strong> Works like you’d expect – a stereo 3.5mm lead from something with a headphone or line out plays music, sounds great. Everything is controlled by the connected device. If you forget to pause the music when you turn the car off it keeps playing, could cost you just your place in the music or all your battery.<br><br><strong>USB:</strong> Interesting – basically you plug in the iOS device and get a hierarchical menu controlled by the main knob and back button. It’s not as easy as selecting music from the iOS device of course but it’s usable and might be the best way if you just want to pick one playlist. While connected via USB the device is charging too. I didn’t try playing any music from a thumb drive, but they are going the way of optical media and chances are I never will.<br><br><strong>Tuner:</strong> Nothing much to report here – without the power to the VW’s antenna signal booster a few stations came in, with power they all come in strong. I haven’t been out driving next to a tram yet but I am hopeful it will be better than the old one for resistance to interference.<br><br><strong>DAB</strong>: This is a good feature but whether it is worth $100 over the price of a head unit without depends on how much radio matters to you. I like to hear Melbourne’s PBS FM and it’s on DAB+. There are more stations available generally and to me they are more interesting stations, they certainly run less ads. If you want to hear the football you can browse around FM, or you can pick SEN or ABC Grandstand by name and know you’ve got the right station.<br><br>BUT it isn’t CD quality. It is better than AM for sure but I don’t think it is any better than a strong FM signal. I’ve been reading people with serious stereo tuners complaining about the possibility of their superior analog FM being turned off and now I think they have a point. But in a car DAB+ is seriously good, for the extra choice you get, for the ease of finding what you want and for the clear, no-static sound. That’s worth $100 to me.<br><br>However Kenwood’s display during DAB setup is kind of confusing. The unit needs to download information about the digital stations available but until it has some you get no indication of what is going on, in fact if you use the display button to switch to signal strength report it will say NO SIGNAL. I thought this meant I had done something wrong with the antenna installation when I saw this.<br><br>The manual explains how to initiate download of station info – when you do it reports that it is updating and that it has finished, but still no stations. However after ten minutes or so I tried scan tuning again and plenty of stations came up. I guess signal strength only means “this station’s signal strength” because then it reported plenty of signal. There really needs to be more feedback during this process.<br><br>Remote: It comes with a remote, but I can reach the controls from where I sit and there’s no way I’m passing control back to one of the kids. I’d rather pay $2 less and not have a remote, OK Kenwood?<br><br>If you want to see an (exhaustive) demo of the Kenwood KDC-U5049DAB, see <a href="http://www.youtube.com/watch?v=HG5CjHue-4k">this video</a> Simonskie250 from Adelaide. He’s wrong about one thing though, it does not have to do the scan on each startup – that’s configurable. Possibly this changed in a firmware update since he posted it.<br><br>While I feel like I have bought an early adopter model – there will be something twice as good next year for half the money – I’m very happy with this change. I hope this post helps someone who might be looking into DAB+ for the car, or who needs to know how to install in a T5 Multivan.<br><br><strong>Update</strong>: Note on the Multivan - it has been a lot of trouble. A big piece of trim came off the pillar supporting the sliding door. VW said "work out how to reattach it yourself". Both side windows will no longer remain closed. VW say "$1100 each". The dash gear indicator started displaying all the gears at once and eventually the car wouldn't start. VW said "that will be $4500, we don't know exactly what's wrong but you need a new ECU". The air conditioner drive pulley sheared off. VW said "dang! that's going to run you $2500". Currently the transmission is having a lot of trouble, big clunks between 2nd and 3rd gears - VW say "well, that's another $4500 or so, new throttle body. We don't fix transmissions, you just replace them these days". Maybe should have bought that SsangYong...<br><br>Final words: <strong>Do not</strong> buy a Multivan. The new Mercedes V-series may cost more, but you'd be a fool to buy a VW if it's your own money. Unless you're leasing, then the disposable VW is probably going to last 3 years. Probably. <strong>Do</strong> buy a digital radio head, with AUX in, if your factory sound doesn't have either.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2012-05-04-drifter-kickstarter</guid><title>Drifter Kickstarter</title><description>Could this be the new Elite?</description><link>https://grayunicorn.com/posts/2012-05-04-drifter-kickstarter</link><pubDate>Fri, 4 May 2012 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Drifter Kickstarter</h1><img src="https://grayunicorn.com/images/2012-05-04-drifter-kickstarter/driftercloseup.jpg" alt="Drifter Banner"/><p>Yesterday Colin Walsh <a href="https://twitter.com/celsiusgs">@celsiusgs</a> tweeted that he was uploading something. I’ve been waiting for the release of Drifter and I hoped that was it, but it was a kickstarter project! Instead of just an iOS version, if the funding goal is met there will be a PC and Mac release also with expanded graphics and more depth. Did you ever play Elite or Privateer?</p><p>Stop reading this now, go look at the project and support it!</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2012-05-08-murloc</guid><title>Angry Murloc Build Light</title><description>Having more fun than usual with continuous integration</description><link>https://grayunicorn.com/posts/2012-05-08-murloc</link><pubDate>Fri, 4 May 2012 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>Angry Murloc Build Light</h1><p>If you have ever played World of Warcraft you know what a Murloc sounds like. You’re running along on some quest and you hear RWLRWLRWLRWLRWL!! and then you know you’ve got a Murloc to fight. Then because of their overlapping patrol patterns you hear it a bunch more times, and pretty soon you’re on a ghost run. I picked up the J!NX talking plush Murloc when I bought a Battle.net authenticator, waste of money to pay shipping to Australia on just one item.</p><img src="https://grayunicorn.com/images/2012-05-08-murloc/plushmurloc.jpg" alt="Murloc"/><p>Why a build light? When you work in a team on a software project sooner or later someone will break the build when they commit code to the shared repository. It’s no big deal as long as you catch it quickly and fix it. If the break goes unnoticed you get Confusion and Delay as you back out change after change and everyone wonders who is to blame and hopes it wasn’t them.</p><p>The solution is continuous integration. One popular solution is Jenkins (formerly known as Hudson), an Open Source tool that among other things can trigger a build when a commit is detected. The result of the build has to be made known to the team right away. If the build machine is local you can play a sound but the sound could be missed.</p><p>Lots of things can be used to make a visual indicator including pre-made lights intended for industrial control, a big screen showing results from Bamboo or similar or maybe Brian the Build Bunny. All of these things have their advantages and disadvantages but they all have visual indication of a problem and a way of communicating with the build server.</p><p>(DO NOT put your giant build status plasma right in some unfortunate developer’s field of view. Do you really want someone distracted by a continually flickering, updating display? This seems like obvious advice but it happened to me.)</p><p>I really like the Nabaztag but they are hard to buy now, so last year I built a simple build light using an Atmel 8-bit microcontroller to drive three very bright LEDs (from Sparkfun) in RGB arrangement, hidden in a diffusing dome. I used Dean Camera’s LUFA library to make USB communications trivially easy. I wrote a small Mac OS X program to send state commands via USB and I had a neat build light that could be made to display any colour. It worked well because the build machine was a centrally located Mac mini and a directly connected USB light was right where it needed to be.</p><p>This year I’m in a new job on a project that more programmers will soon join. The machine that I can use for our git and build server is also a Mac mini, but it is not in the same room as the developers. USB is therefore not a good solution this time! I need ethernet, or maybe wireless.</p><p>After a bit of thought I decided to make it easy on myself and use Arduino. I bought the Sparkfun Inventor’s Kit for Arduino and the Ethernet shield. I downloaded the Arduino Software, asked our network administrator for an unused IP address, grabbed some sample code and within an hour I had a web server. Right away I was able to use curl to send requests to the board and display the GET string – too easy!</p><p>Ten minutes later I was controlling the RGB LED. How disappointing, what was going to be a fun project was nearly over!</p><p>To keep the fun going I decided to improve it a bit. The LED needs to do something while building so developers and others can see that something is happening.</p><p>Also so that anyone interested can see that their code was received, it did kick off a build as expected, and it might be worth looking at the light again soon to see how the build went. Also to make it obvious that lots of code is being checked in and the iOS team really is incredibly productive.</p><p>I tried a naive approach to RGB colour cycling first, incrementing an 8-bit value for R, then G when it ticked over and B when G ticked over, treating it like one big 3-digit base-256 value. It worked but not in a particularly pleasing way. What looks better is to use colours from the HSV colour space, sweeping the hue value right around the circle and converting the hue to RGB values for use with Arduino’s analogWrite(). With a small delay() on each angle change, done!</p><p>One outcome of a build is failure, and that’s the fun part. Steady red, I discovered last year, is not enough to grab attention. I wanted the light to pulse so that it isn’t incredibly annoying but doesn’t go unnoticed. That was fairly easy with a state variable to decide whether to increase or decrease intensity on every pass through the loop and to toggle direction when the maximum or minimum values are reached.</p><p>At this point I noticed that while varying the H part of HSV changed colour very effectively, S and V appeared to do nothing much. The values passed to the RGB setting function were fine, but always full intensity. I took a shortcut and just added a brightness multiplier applied after the colour is decided – it’s not a very big sin because colour accuracy is not critical and it does exactly what I want. With this brightness multiplier varying over time the light pulses nicely.</p><img src="https://grayunicorn.com/images/2012-05-08-murloc/finished.jpg" alt="The "egg""/><p>Physically the light is a very cheap light fitting from Bunning’s, an Australian hardware chain. Having the base and dome made it really easy. For the old build light I built a wooden base and used Liquid Nails to attach the glass dome from a discarded light fitting, way too much work. This base gives plenty more space to work in, a platform to attach hardware both sides using spacers and bolts, and plenty of space above the LEDs for a thin layer of tissue to help diffuse the light.</p><img src="https://grayunicorn.com/images/2012-05-08-murloc/inside.jpg" alt="What's inside"/><p>Experienced Arduino users will notice that’s not a Uno + Ethernet Shield used in construction. I used one of Sparkfun’s Ethernet Pro models, essentially a Uno + Ethernet Shield in one. This held up construction a little because I was not aware of the requirement for a FTDI USB-serial cable and had to wait for it to arrive.</p><p>The finishing touch is sound. The plush Murloc is a good match for the size of the light fitting I picked out to house the build light. And if he sits over the glass dome it’s like he’s guarding an egg… I didn’t want to have any cable between the light and the Murloc though as it would make the whole assembly fragile, so I took the Murloc’s voice box out and built it into the base.</p><img src="https://grayunicorn.com/images/2012-05-08-murloc/murlocguts.jpg" alt="Talking Murloc Guts"/><p>The voice box should be familiar to anyone who has disassembled any talking toys, there’s a speaker, a black-blob integrated circuit on a tiny PCB, batteries and a simple button. I first took the batteries and case away and powered the Murloc sound board from the Arduino board. The button is a rubber dome bridging PCB contacts – I traced the PCB track back to the blob, noticed the other half of the contact was ground and decided to try simply pulling the pin down to logic zero. Success!</p><p>Now when the build breaks, “Rwlrwlrwlrwl!” And a minute later, “Rwlrwlrwlrwl!!” – until the build is fixed. The other outcome is that everything is fine. For that I picked a nice muted green, no pulsing, just a steady colour that won’t bother anyone. And it matches the Murloc.</p><p>If someone issues a command that isn’t recognised the light goes purple.</p><p>How’s it working? All tests show it’s fully functional. In use we’ll see whether the Murloc is too annoying, I have a feeling I should make the Murloc noise only every ten minutes or so.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/iYO_m60uyXQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>In the background you can see my command window issuing curl commands to the light’s IP address. It responds to GET requests for Building, BuildGood and BuildBroken. If I need more states in future they will be easy to add, as Arduino just isn’t difficult enough to seem like an embedded system at all. Try it!</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2012-07-24-laptopstand</guid><title>PVC Conduit Laptop Stand</title><description>simple laptop stand from PVC pipe</description><link>https://grayunicorn.com/posts/2012-07-24-laptopstand</link><pubDate>Fri, 4 May 2012 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>PVC Conduit Laptop Stand</h1><p>On Monday 11th of June 2012 I was at the WWDC Keynote to see the Retina MacBook Pro announced and I felt pretty satisfied knowing my cunning plan had worked. Months ago, rather than ask for the laptop I wanted at work I settled for a maxed-out Mac mini, expecting the team to grow, and with that growth there would be a need for a machine to do continuous integration. That machine would be the Mac mini, with me in obvious need of the anticipated 2012 machine free of optical drive, with Ivy Bridge, etc. etc.</p><img src="https://grayunicorn.com/images/2012-07-24-laptopstand/conduit-label.jpg" alt="Electrical Conduit"/><p>So I was all set to say thanks, I’ll have the new shiny and a 30” monitor too please – I’ve been using two Thunderbolt 27” displays and I find that side-by-side they are just too wide for comfort – but that 30” wouldn’t have been a retina display. Better to live with just the laptop for a little while, getting the monitor when retina displays become available or other choices present themselves. Current displays do look pretty ugly next to the retina MacBook Pro, no matter how good they look up until the time you see one. And living with one smaller screen would have the beneficial effect of encouraging me to get more efficient with my use of Mission Control and gestures.</p><p>In the meantime I would need a laptop stand. I looked around a bit, didn’t feel like spending $70 on a bent aluminium thing, and while searching came across the AIAIAI Laptop Pipe Stand. Couldn’t find any reasons not to just build one…<br><br><img src="https://grayunicorn.com/images/2012-07-24-laptopstand/stand.jpg" alt="The stand!"/></p><p>The thing is as you see it, about an hour’s work cutting 20mm conduit and inserting it into fittings. Luckily the mitre saw still had its aluminium/plastic blade installed so no time wasted changing it. I used bulky inspection T-pieces because there weren’t any regular T-pieces on the shelf at Bunning’s – they’re always out of something you need.</p><p>I want a sloping stand so gravity can help the machine stay in place. PVC conduit fittings do come in 45° angles but Bunning’s don’t stock them. Chopping one of the large radius joins to get around a 30° angle was my first thought but the outside diameter of the fitting isn’t the same as 20mm conduit so there would be no joining to that piece once cut. So I needed to bend some PVC – first time but it turned out to be easy. The bends are made identically using a form made from two wooden blocks clamped to a flat board, forming an angle for a softened conduit to rest against. A heat gun got the PVC soft and then it was just a careful, rotating bend and a couple of minutes to let it cool and set in position. Unless the angle is the same on both pieces the front of the stand won’t be square.</p><p>One wrinkle is that the 90° elbow pieces are not actually 90° bends, more like 85°! I expect electricians just use the natural flex of the conduit to place everything square as they go. I used a heat gun to soften the elbows and a carpenter’s square to get them set at the right angle. If this wasn’t done the result would be a stand that doesn’t look right or sit flat on the table.</p><img src="https://grayunicorn.com/images/2012-07-24-laptopstand/keyboard-on-stand.jpg" alt="Keyboard, for scale"/><p>Finally everything got a little clear PVC adhesive before being set in place and checked for square. I like the result and at a cost of well under $20 I can do it again if it needs to be a little bit different. It is sized for an 11” MacBook Air and it should support anything up to a 17” comfortably. It is too wide for an iPad – the keyboard shown is a useful size reference since the MBP isn’t here for modelling yet.</p><p>Searching before the build I found that a few people have done things like this over the years, no doubt AIAIAI got the inspiration from them and I’m just completing the circle. I did not choose to do any “cable management” because these machines just don’t have enough cables to worry about. I might cable tie the MagSafe cable to a pipe somewhere near where it connects to the machine but that’s all.</p><p>2019 update: Years later I left this with Ida, a great colleague from IBM based in Singapore. I had taken it with me while there for a few weeks and after shopping my case was full. Now I need to make another one.</p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2012-05-01-new-bike-for-winter</guid><title>A New Bike for Winter</title><description>Getting a new belt-drive bike for gritty commuting</description><link>https://grayunicorn.com/posts/2012-05-01-new-bike-for-winter</link><pubDate>Tue, 1 May 2012 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>A New Bike for Winter</h1><p>I don't mind riding in winter but I hate the functional bits of my bike getting covered in mud and grit. I hate the sound of a grinding chain or a derailleur that isn't adjusted right. I hate rattles. In the past I have made a habit of disassembling everything and cleaning every little bit before lubricating and reassembling for that perfect smooth ride, but then if it rains the drivetrain soon picks up dirt and grit again. It takes hours to do this properly.<br><br><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/disassemblecassette.jpg%20"Cleaning the cassette"" alt="Cleaning the cassette"/></p><p>The easiest way to avoid grit on the chain is to have no chain, and the best way to stop the gears picking up mud is to hide them inside the hub in a nice oil bath. I set out to find a belt-driven bike with Internal Gear Hub (IGH), hydraulic disc brakes front &amp; rear. Going to an IGH means a big drop in the number of gears, considering my "27 speed" mountain bike, or "18 speed" road bike. But do you get that many speeds? No, chain alignment issues mean you get far fewer. Even so I was sure I wanted at least an 11 speed hub rather than the more commonly available 8, and the <a href="http://www.rohloff.de/en/products/speedhub/">Rohloff Speedhub</a> is just a bit too expensive. That narrowed it down to <a href=" http://www.shimano.com/publish/content/global_cycle/en/us/index/products/0/alfine.html">Shimano Alfine 11</a>. There seems to be about one choice in belts, the <a href="http://www.carbondrivesystems.com">Gates</a> range. I've been looking for a while and found a few options – <a href="http://civiacycles.com/bikes/bryant/">Bryant Civia</a> looks like a fine bike and there are others. Having had carbon bikes for a while (even the mountain bike) I wanted something a bit lighter than steel, so the <a href="http://beltbik.es/spot-brand/2012/acme-0">Spot Acme</a> with its alloy frame and carbon fork stood out. I pre-ordered it and received it on the 24th of April.</p><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/bikeright.jpg%20"Right profile"" alt="Right profile"/><p>The finish really surprised me out of the box because it looks a lot better than it appears on the web site. Also you don't notice the profile of the tubes with the photos that Spot show – the down tube has a profile that could almost be intended to act as a mudguard, it is wider facing the road and curves gently on top. The whole package is a pleasant blend of brushed aluminium with black highlights, all the components are black. The chain guard is not something I have had on a bike for a long time. If I have a chain guard should I also have a basket and some streamers? It might come off, the belt isn't going to get grease on me after all.<br><br><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/braincrafted.jpg%20"Designed by Spot in Colorado"" alt="Designed by Spot in Colorado"/></p><p>Under the water bottle mount on the down tube, right about where my <a href="http://www.bikepedia.com/quickbike/BikeSpecs.aspx?year=1999&brand=Trek&model=Elite+XC+9.8">old Trek</a> says "Made in USA" is this sticker – "Braincrafted in Golden, Colorado" – I'm not sure exactly what that means but I think it must mean "Designed in Colorado, made somewhere we're not convinced has any marketing appeal" – oh well. Apple do the same kind of thing with their "Designed by Apple in California" tag.</p><p><strong>What's great?</strong><br>Smooth. So smooth, it's a silent bike, just like I wanted. There are minor rattles over major bumps but nothing to complain about.</p><p>The build quality impresses me. I really like the attention to detail on the welds, and the adjustment system for the belt is a thing of beauty. On the right seat stay is a gap where a small keyed part slots in while the bike is in operation, but comes out should you need to remove the belt. (Unlike a chain you can't break a belt, at least not if you want to use it again. Gates claim the belt will last about twice as long as a chain.)<br><br><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/chaintensioner.jpg%20"Chainstay adjustment"" alt="Chainstay adjustment"/></p><p><strong>What's not great?</strong><br>Not much, but a couple of things are not perfect. The disc brakes are fine, Avid Elixir 1 – for non-race situations they're going to satisfy just about anyone. The discs are another matter. I have a front disc brake on another bike, an Avid Code 5 – maybe a few steps up in the Avid product range, but I think out of production now. Anyway the disc that came with that brake was machined perfectly flat. The Shimano discs on this bike are stamped and are nowhere near flat. This means that until the pads wear the discs flat these brakes will not be operating at maximum efficiency because the full surface area of the pad isn't in contact with the disc. The picture should make it obvious, you can see after the first ride where the disc is starting to wear in, the raised parts are beginning to flatten but there's a long way to go. How much would a quick machining pass have cost, Shimano?<br><br><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/discwear.jpg%20"Stamped metal discs"" alt="Stamped metal discs"/></p><p>I'm not in love with the bars, being more used to riding thicker bars with bar ends. When I stand up I like to get the weight forward. Also I have to say the stem is pretty ugly, having a roughly finished chrome section on the front. This is probably the first area on the bike I'll change.<br>On the gears the Alfine 11's change mechanism takes some getting used to. No doubt it is still bedding in a little and I shouldn't expect it to be the same but shifting is not a thought-free process. Up a hill under load you need to back off just a little to allow the gears to downshift. The entire shift process is just a little disconcerting when you're used to the solid <em>clunk</em> of a conventional derailleur. But it is great to have 11 speeds, in a line, that can be selected while the bike is standing still. I like the range too, without crunching any numbers I feel like I get all the speed at the top end and more granny-gear at the low end than I did with the "27 speed" bike.<br><br><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/rearstaybreak.jpg%20"Where the belt comes out"" alt="Where the belt comes out"/></p><p>These supplied pedals are horrible, and weigh a ton. I didn't even install them, having some <a href="13">Shimano SPD PD-M520</a> pedals waiting.<br><br><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/pedals.jpg%20"I don't think so!"" alt="I don't think so!"/></p><p>Lights were easy to fit, except that I noticed the bars are very thin. To fit the first bell I tried needed three rubber spacers wrapped around the bar tube before I could tighten the screw on the bell. (You're supposed to have a bell where I ride on Melbourne's bike paths. On about half the people the effect is to make them calm and to keep walking straight while you pass them, which is great. They lift a hand as if to say "thanks for letting me know". Some jump violently to one side when they hear a bell, sometimes right into your path. Some just get angry because they think the bell means "Move!" and they don't see why they should, so they don't, but that's what you want anyway.)<br><br><img src="https://grayunicorn.com/images/2012-05-01-new-bike-for-winter/brassbell.jpg%20"The new King"" alt="The new King"/></p><p>I became aware of a bell named "the King of Ding" by <a href="https://www.ridepdw.com">Portland Design Works</a> and I was pretty sure I was going to buy one – but then I saw one next to the bell I did buy. The PDW bell is a prince, at best. The bell you see pictured is some generic Chinese thing, same price, is subjectively up to twice as loud and is a much better design in that firstly the brass dome doesn't unscrew, and secondly the dinger can be positioned around the bell to wherever you want it.<br>I used my existing Blackburn bottle carrier, it is light and strong and it even matches the frame.<br>I'm still shopping for mudguards. I might pick some up at WWDC this year (yes, I did get a ticket) because I haven't seen anything I like locally. <a href="http://www.joe-bike.com">Joe Bike</a> in Portland, OR has some amazing wooden veneers… until then it's the old Zefal Flamingo, with the bend modified by heat gun. The way these things stick up in the air, unmodified, is ridiculous. <strong>Final Thought</strong><br>Belts and internal gear hubs are probably always going to be less efficient than clean and well-adjusted chains and derailleurs – <a href="http://en.wikipedia.org/wiki/Hub_gear">Wikipedia says</a> around 2% lower efficiency for the hub in commuter applications, Gates claim that the Carbon Drive system has equal efficiency to a chain. (Of course they would say that). But that's considering a clean, well-lubricated and well-adjusted chain &amp; derailleur. I expect this bike to maintain its smooth and quiet riding characteristics even after a winter of riding through the kind of grit and mud that you find on bike trails. Most of the bikes that I pass (or that pass me) make plenty of drivetrain noise – if you can hear the bike you can hear wasted effort. I'll update in the spring to tell whether or not this theory has worked out. <strong>Where to buy?</strong><br>I got it from <a href="http://www.blackmountainsports.com.au">Black Mountain Sports</a> in Brisbane who imported and shipped it to me for less that it would have cost me to import directly. I was surprised. Had never heard of them before Spot referred me, I'd be happy to buy through them again.<br></p>]]></content:encoded></item><item><guid isPermaLink="true">https://grayunicorn.com/posts/2012-05-01-wolverine</guid><title>A New Bike for Summer</title><description>Single speed, disc-brake, belt-drive SOMA Wolverine</description><link>https://grayunicorn.com/posts/2012-05-01-wolverine</link><pubDate>Tue, 1 May 2012 00:00:00 +1000</pubDate><content:encoded><![CDATA[<h1>A New Bike for Summer</h1><p>A while ago I bought a <a href="https://grayunicorn.com/posts/2012-05-01-new-bike-for-winter/index.html">Spot Acme</a> because I wanted a clean belt drive and a silent bike that would run smoothly through the winter months. Well it mostly does that - though the Alfine 11 hub has been a disappointment, requiring many trips to a service agent and it still leaks oil. Trouble that bike is a bit of a tank. It's not terribly heavy but I still wanted something a bit lighter, a bit faster, a bit more comfortable. Something that I could fit a small rack and bag to on the days when I don't carry the laptop home, and ride through the summer months. Then a few things happened at once. Due to the Alfine's service issues I found myself at <a href="http://commutercycles.com.au">Commuter Cycles</a> and saw a Wolverine frame hanging on a wall. Then I saw a reddit post <a href="https://www.reddit.com/r/bicycling/comments/2ivtad/my_review_soma_wolverine_vs_surly_straggler/">My Review: Soma Wolverine vs Surly Straggler</a>. Then I found some money in my pocket after parting out a computer, and before I knew it I had a receipt for a deposit on a 60cm frame.</p><img src="https://grayunicorn.com/images/2012-05-01-wolverine/right-side.jpg" alt="Right profile"/><p><strong>What's on it?</strong> This project has been going on for months! People in the office are going to be happy there will be fewer packages delivered for me I am sure. I used a variety of online sellers - no reason to spread it around, just that not everyone had all the parts I wanted.</p><img src="https://grayunicorn.com/images/2012-05-01-wolverine/crank.jpg" alt="Crank"/><p>I got the frame, good advice, and some parts from Commuter Cycles. This is a really great bike shop in Brunswick right on the bike lane and easy to get to by train when the bike is out of action. There are always desirable bikes lined up waiting for collection when I visit, they obviously love what they do and there is no better recommendation.</p><img src="https://grayunicorn.com/images/2012-05-01-wolverine/saddle.jpg" alt="Brooks B17 Titanium"/><p>There's a Chris King headset, Thomson stem and seat post, H Plus Son rims, Brooks Titanium B17 Saddle - all amazing parts. The Paul Component Engineering hubs are beautifully made, and light. The belt drive is smooth, silent and has not slipped once.</p><img src="https://grayunicorn.com/images/2012-05-01-wolverine/rear.jpg" alt="The view just after being passed"/><p><strong>Building Wheels</strong></p><p>Another reason for doing it myself is that I just like mechanical work, and building wheels seemed like a good challenge. I liked building wheels so much that I build a new set for my Spot Acme also. Anyone who doesn't mind getting their hands mildly dirty should try it - the book I used is Roger Musson's <a href="http://www.wheelpro.co.uk/wheelbuilding/book.php">The Professional Guide to Wheel Building</a>. The only tool you absolutely need to buy is a <a href="https://www.wheelfanatyk.com/store/spokey-spoke-wrench/">Spokey</a> - and I agree with the author that's the only one to buy. Building wheels is just not hard. If you do it methodically and patiently you can build excellent wheels, you'll save money and learn something.</p><img src="https://grayunicorn.com/images/2012-05-01-wolverine/left-side.jpg" alt="Left Profile"/>]]></content:encoded></item></channel></rss>